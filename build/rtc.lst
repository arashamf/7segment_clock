ARM GAS  /tmp/ccBVJHev.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"rtc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.RTC_ConvertToDec,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  23              	RTC_ConvertToDec:
  24              	.LVL0:
  25              	.LFB820:
  26              		.file 1 "IO_drivers/rtc.c"
   1:IO_drivers/rtc.c **** #ifdef __cplusplus
   2:IO_drivers/rtc.c **** extern "C" {
   3:IO_drivers/rtc.c **** #endif
   4:IO_drivers/rtc.c **** 
   5:IO_drivers/rtc.c **** // Includes---------------------------------------------------------------------------------//
   6:IO_drivers/rtc.c **** #include "rtc.h"
   7:IO_drivers/rtc.c **** #include "i2c.h"
   8:IO_drivers/rtc.c **** #include "typedef.h"
   9:IO_drivers/rtc.c **** #include "time64.h"
  10:IO_drivers/rtc.c **** #include "usart.h"
  11:IO_drivers/rtc.c **** #include <stdio.h>
  12:IO_drivers/rtc.c **** 
  13:IO_drivers/rtc.c **** //Defines------------------------------------------------------------------------------------//
  14:IO_drivers/rtc.c **** 
  15:IO_drivers/rtc.c **** //Typedefs-----------------------------------------------------------------------------------//
  16:IO_drivers/rtc.c **** 
  17:IO_drivers/rtc.c **** //Prototypes---------------------------------------------------------------------------------//
  18:IO_drivers/rtc.c **** static uint8_t GetDataDS3231 (uint8_t , uint8_t , uint8_t , uint8_t * );
  19:IO_drivers/rtc.c **** static uint8_t SetTimeDS3231 (uint8_t , uint8_t , uint8_t , uint8_t *);
  20:IO_drivers/rtc.c **** static uint8_t RTC_ConvertToDec(uint8_t );
  21:IO_drivers/rtc.c **** static uint8_t RTC_ConvertToBinDec(uint8_t );
  22:IO_drivers/rtc.c **** static uint8_t GetTime_DS3231 (void);
  23:IO_drivers/rtc.c **** static void convert_time (char * , unsigned char * , unsigned char );
  24:IO_drivers/rtc.c **** static void CalcUNIXtime_from_DS3231 (uint32_t * UNIX_time, uint8_t * time_data);
  25:IO_drivers/rtc.c **** static void CalcTimeStamp_from_UART (uint32_t );
  26:IO_drivers/rtc.c **** static void copy_TMdata(uint8_t *);
  27:IO_drivers/rtc.c **** 
  28:IO_drivers/rtc.c **** 
  29:IO_drivers/rtc.c **** //variables----------------------------------------------------------------------------------//
  30:IO_drivers/rtc.c **** struct TM TimeStamp;
  31:IO_drivers/rtc.c **** rtc_data data = {0}; //—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏
  32:IO_drivers/rtc.c **** I2C_status_t status = I2C_OK;
ARM GAS  /tmp/ccBVJHev.s 			page 2


  33:IO_drivers/rtc.c **** 
  34:IO_drivers/rtc.c **** //–º–∞—Å—Å–∏–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–Ω–µ–π –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –º–µ—Å—è—Ü–µ, [0][12] - –
  35:IO_drivers/rtc.c **** const unsigned int pred_sum [2][12] =	
  36:IO_drivers/rtc.c **** { 
  37:IO_drivers/rtc.c **** 	{0,31,59,90,120,151,181,212,243,273,304,334}, 
  38:IO_drivers/rtc.c **** 	{0,31,60,91,121,152,182,213,244,274,305,335} 
  39:IO_drivers/rtc.c **** };
  40:IO_drivers/rtc.c **** 
  41:IO_drivers/rtc.c **** //FUNCTIONS----------------------------------------------------------------------------------//
  42:IO_drivers/rtc.c **** static uint8_t GetDataDS3231 (uint8_t RTC_adress, uint8_t registr_adress, uint8_t sizebuf, uint8_t 
  43:IO_drivers/rtc.c **** {
  44:IO_drivers/rtc.c **** 	status = I2C_OK;
  45:IO_drivers/rtc.c **** 
  46:IO_drivers/rtc.c **** 	if ((status = I2C_ReadBuffer (registr_adress,  (uint8_t*)RTC_buffer, (uint16_t) sizebuf)) == I2C_O
  47:IO_drivers/rtc.c **** 	{
  48:IO_drivers/rtc.c **** 		for (uint8_t count = 0; count < sizebuf; count++)
  49:IO_drivers/rtc.c **** 		{
  50:IO_drivers/rtc.c **** 			*(RTC_buffer+count) = RTC_ConvertToDec(*(RTC_buffer+count)); //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –∏–∑ –¥
  51:IO_drivers/rtc.c **** 		}
  52:IO_drivers/rtc.c **** 	}
  53:IO_drivers/rtc.c **** 	else
  54:IO_drivers/rtc.c **** 	{
  55:IO_drivers/rtc.c **** 		for (uint8_t count = 0; count < sizebuf; count++)
  56:IO_drivers/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
  57:IO_drivers/rtc.c **** 	}
  58:IO_drivers/rtc.c **** 	return  status;
  59:IO_drivers/rtc.c **** }
  60:IO_drivers/rtc.c **** 
  61:IO_drivers/rtc.c **** //--------------------------------------------------------------------------------------------//
  62:IO_drivers/rtc.c **** uint8_t GetTempDS3231 (uint8_t  RTC_adress, uint8_t registr_adress,  uint8_t * temp_buffer)
  63:IO_drivers/rtc.c **** {
  64:IO_drivers/rtc.c **** 	status = I2C_OK;
  65:IO_drivers/rtc.c **** 	if ((status = I2C_ReadByte (registr_adress,  temp_buffer)) != I2C_OK)
  66:IO_drivers/rtc.c **** 	{	*temp_buffer = 0;	}	
  67:IO_drivers/rtc.c **** 	return  status;
  68:IO_drivers/rtc.c **** }
  69:IO_drivers/rtc.c **** 
  70:IO_drivers/rtc.c **** //-------------------------------------------------------------------------------------------//
  71:IO_drivers/rtc.c **** static uint8_t SetTimeDS3231 (uint8_t RTC_adress, uint8_t registr_adr, uint8_t sizebuf, uint8_t *RT
  72:IO_drivers/rtc.c **** {		
  73:IO_drivers/rtc.c **** 	uint8_t count = 0;
  74:IO_drivers/rtc.c **** 	status = I2C_OK;
  75:IO_drivers/rtc.c **** 
  76:IO_drivers/rtc.c **** 	for (count = 0; count < sizebuf; count++) {     //—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª
  77:IO_drivers/rtc.c **** 		*(RTC_buffer+count)  = RTC_ConvertToBinDec(*(RTC_buffer+count));  //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –≤ 
  78:IO_drivers/rtc.c **** 	}
  79:IO_drivers/rtc.c **** 
  80:IO_drivers/rtc.c **** 	for (count = 0; count < sizebuf; count++)
  81:IO_drivers/rtc.c **** 	{	 
  82:IO_drivers/rtc.c **** 		status = I2C_WriteBuffer ((uint16_t)registr_adr, RTC_buffer, sizebuf);
  83:IO_drivers/rtc.c **** 	}	
  84:IO_drivers/rtc.c **** 	
  85:IO_drivers/rtc.c **** 	return  status;
  86:IO_drivers/rtc.c **** }
  87:IO_drivers/rtc.c **** 
  88:IO_drivers/rtc.c **** //-------------—Ñ-—è –ø–µ—Ä–µ–≤–æ–¥–∞ —á–∏—Å–ª–∞ –∏–∑ –¥–≤–æ–∏—á–Ω–æ-–¥–µ—Å—è—Ç–∏—á–Ω–æ–≥–æ –ø—Ä–µ–
  89:IO_drivers/rtc.c **** static uint8_t RTC_ConvertToDec(uint8_t digit)
ARM GAS  /tmp/ccBVJHev.s 			page 3


  90:IO_drivers/rtc.c **** {
  27              		.loc 1 90 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  91:IO_drivers/rtc.c **** 	uint8_t ch = ((digit>>4)*10 + (0x0F & digit));
  32              		.loc 1 91 2 view .LVU1
  33              		.loc 1 91 30 is_stmt 0 view .LVU2
  34 0000 0309     		lsrs	r3, r0, #4
  35 0002 03EB8303 		add	r3, r3, r3, lsl #2
  36              		.loc 1 91 38 view .LVU3
  37 0006 00F00F00 		and	r0, r0, #15
  38              	.LVL1:
  39              		.loc 1 91 10 view .LVU4
  40 000a 00EB4300 		add	r0, r0, r3, lsl #1
  41              	.LVL2:
  92:IO_drivers/rtc.c **** 	return ch;
  42              		.loc 1 92 2 is_stmt 1 view .LVU5
  93:IO_drivers/rtc.c **** }
  43              		.loc 1 93 1 is_stmt 0 view .LVU6
  44 000e C0B2     		uxtb	r0, r0
  45              		.loc 1 93 1 view .LVU7
  46 0010 7047     		bx	lr
  47              		.cfi_endproc
  48              	.LFE820:
  50              		.section	.text.RTC_ConvertToBinDec,"ax",%progbits
  51              		.align	1
  52              		.syntax unified
  53              		.thumb
  54              		.thumb_func
  56              	RTC_ConvertToBinDec:
  57              	.LVL3:
  58              	.LFB821:
  94:IO_drivers/rtc.c **** 
  95:IO_drivers/rtc.c **** //-------------—Ñ-—è –ø–µ—Ä–µ–≤–æ–¥–∞ —á–∏—Å–ª–∞ –∏–∑ –æ–±—ã—á–Ω–æ–≥–æ –≤ –¥–≤–æ–∏—á–Ω–æ-–¥–µ—Å—è—Ç
  96:IO_drivers/rtc.c **** static uint8_t RTC_ConvertToBinDec(uint8_t digit)
  97:IO_drivers/rtc.c **** {
  59              		.loc 1 97 1 is_stmt 1 view -0
  60              		.cfi_startproc
  61              		@ args = 0, pretend = 0, frame = 0
  62              		@ frame_needed = 0, uses_anonymous_args = 0
  63              		@ link register save eliminated.
  98:IO_drivers/rtc.c **** 	uint8_t ch = ((digit/10) << 4) + (digit%10);
  64              		.loc 1 98 2 view .LVU9
  65              		.loc 1 98 27 is_stmt 0 view .LVU10
  66 0000 064B     		ldr	r3, .L3
  67 0002 A3FB0023 		umull	r2, r3, r3, r0
  68 0006 DB08     		lsrs	r3, r3, #3
  69 0008 1A01     		lsls	r2, r3, #4
  70 000a D2B2     		uxtb	r2, r2
  71              		.loc 1 98 33 view .LVU11
  72 000c 03EB8303 		add	r3, r3, r3, lsl #2
  73 0010 A0EB4300 		sub	r0, r0, r3, lsl #1
  74              	.LVL4:
  75              		.loc 1 98 33 view .LVU12
  76 0014 C0B2     		uxtb	r0, r0
ARM GAS  /tmp/ccBVJHev.s 			page 4


  77              		.loc 1 98 10 view .LVU13
  78 0016 1044     		add	r0, r0, r2
  79              	.LVL5:
  99:IO_drivers/rtc.c **** 	return ch;
  80              		.loc 1 99 2 is_stmt 1 view .LVU14
 100:IO_drivers/rtc.c **** }
  81              		.loc 1 100 1 is_stmt 0 view .LVU15
  82 0018 C0B2     		uxtb	r0, r0
  83              		.loc 1 100 1 view .LVU16
  84 001a 7047     		bx	lr
  85              	.L4:
  86              		.align	2
  87              	.L3:
  88 001c CDCCCCCC 		.word	-858993459
  89              		.cfi_endproc
  90              	.LFE821:
  92              		.section	.text.convert_time,"ax",%progbits
  93              		.align	1
  94              		.syntax unified
  95              		.thumb
  96              		.thumb_func
  98              	convert_time:
  99              	.LVL6:
 100              	.LFB823:
 101:IO_drivers/rtc.c **** 
 102:IO_drivers/rtc.c **** //---------------------------------------------------------------------------------------------//
 103:IO_drivers/rtc.c **** static uint8_t GetTime_DS3231 (void)
 104:IO_drivers/rtc.c **** {
 105:IO_drivers/rtc.c **** 	status = I2C_OK;
 106:IO_drivers/rtc.c **** 	status = GetDataDS3231(RTC_ADDRESS, FIRST_REGISTR_TIME, TIME_NUMBER, data.DS3231_getdata); //–ø–æ–
 107:IO_drivers/rtc.c ****     status = GetDataDS3231(RTC_ADDRESS, FIRST_REGISTR_DATE, TIME_NUMBER, data.DS3231_getdata+3); //
 108:IO_drivers/rtc.c **** 	return status;
 109:IO_drivers/rtc.c **** }
 110:IO_drivers/rtc.c **** 
 111:IO_drivers/rtc.c **** //--------------------–ø–µ—Ä–µ–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ —á–∏—Å–ª–æ–≤–æ–π —Ñ–æ—Ä–º—ã –
 112:IO_drivers/rtc.c **** static void convert_time (char * mod_time_data, uint8_t * time_data, uint8_t time_size)
 113:IO_drivers/rtc.c **** {
 101              		.loc 1 113 1 is_stmt 1 view -0
 102              		.cfi_startproc
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 114:IO_drivers/rtc.c **** 		
 115:IO_drivers/rtc.c **** 	for (int8_t count = (time_size-1); count >= 0; count--)
 105              		.loc 1 115 2 view .LVU18
 106              	.LBB2:
 107              		.loc 1 115 7 view .LVU19
 108              		.loc 1 115 32 is_stmt 0 view .LVU20
 109 0000 02F1FF3C 		add	ip, r2, #-1
 110              		.loc 1 115 14 view .LVU21
 111 0004 4FFA8CFC 		sxtb	ip, ip
 112              	.LVL7:
 113              		.loc 1 115 37 is_stmt 1 view .LVU22
 114              		.loc 1 115 2 is_stmt 0 view .LVU23
 115 0008 BCF1000F 		cmp	ip, #0
 116 000c 1EDB     		blt	.L11
 117              	.LBE2:
 113:IO_drivers/rtc.c **** 		
ARM GAS  /tmp/ccBVJHev.s 			page 5


 118              		.loc 1 113 1 view .LVU24
 119 000e 10B5     		push	{r4, lr}
 120              	.LCFI0:
 121              		.cfi_def_cfa_offset 8
 122              		.cfi_offset 4, -8
 123              		.cfi_offset 14, -4
 124              	.LVL8:
 125              	.L7:
 126              	.LBB3:
 116:IO_drivers/rtc.c **** 	{
 117:IO_drivers/rtc.c **** 		*mod_time_data++ = (*(time_data + count) / 10) + 0x30; //—á–∞—Å—ã/–º–∏–Ω—É—Ç—ã/—Å–µ–∫—É–Ω–¥—ã
 127              		.loc 1 117 3 is_stmt 1 discriminator 3 view .LVU25
 128              		.loc 1 117 23 is_stmt 0 discriminator 3 view .LVU26
 129 0010 11F80C20 		ldrb	r2, [r1, ip]	@ zero_extendqisi2
 130              	.LVL9:
 131              		.loc 1 117 50 discriminator 3 view .LVU27
 132 0014 0E4B     		ldr	r3, .L12
 133 0016 A3FB02E2 		umull	lr, r2, r3, r2
 134 001a D208     		lsrs	r2, r2, #3
 135 001c 3032     		adds	r2, r2, #48
 136              		.loc 1 117 20 discriminator 3 view .LVU28
 137 001e 8646     		mov	lr, r0
 138 0020 0EF8022B 		strb	r2, [lr], #2
 118:IO_drivers/rtc.c **** 		*mod_time_data++ = (*(time_data + count) % 10) + 0x30;
 139              		.loc 1 118 3 is_stmt 1 discriminator 3 view .LVU29
 140              		.loc 1 118 23 is_stmt 0 discriminator 3 view .LVU30
 141 0024 11F80C20 		ldrb	r2, [r1, ip]	@ zero_extendqisi2
 142              	.LVL10:
 143              		.loc 1 118 50 discriminator 3 view .LVU31
 144 0028 A3FB0243 		umull	r4, r3, r3, r2
 145 002c DB08     		lsrs	r3, r3, #3
 146 002e 03EB8303 		add	r3, r3, r3, lsl #2
 147 0032 A2EB4303 		sub	r3, r2, r3, lsl #1
 148 0036 3033     		adds	r3, r3, #48
 149              		.loc 1 118 20 discriminator 3 view .LVU32
 150 0038 4370     		strb	r3, [r0, #1]
 115:IO_drivers/rtc.c **** 	{
 151              		.loc 1 115 49 is_stmt 1 discriminator 3 view .LVU33
 115:IO_drivers/rtc.c **** 	{
 152              		.loc 1 115 54 is_stmt 0 discriminator 3 view .LVU34
 153 003a 0CF1FF3C 		add	ip, ip, #-1
 154              	.LVL11:
 115:IO_drivers/rtc.c **** 	{
 155              		.loc 1 115 54 discriminator 3 view .LVU35
 156 003e 4FFA8CFC 		sxtb	ip, ip
 157              	.LVL12:
 158              		.loc 1 118 17 discriminator 3 view .LVU36
 159 0042 7046     		mov	r0, lr
 115:IO_drivers/rtc.c **** 	{
 160              		.loc 1 115 37 is_stmt 1 discriminator 3 view .LVU37
 115:IO_drivers/rtc.c **** 	{
 161              		.loc 1 115 2 is_stmt 0 discriminator 3 view .LVU38
 162 0044 BCF1000F 		cmp	ip, #0
 163 0048 E2DA     		bge	.L7
 164              	.LBE3:
 119:IO_drivers/rtc.c **** 	}
 120:IO_drivers/rtc.c **** }
ARM GAS  /tmp/ccBVJHev.s 			page 6


 165              		.loc 1 120 1 view .LVU39
 166 004a 10BD     		pop	{r4, pc}
 167              	.LVL13:
 168              	.L11:
 169              	.LCFI1:
 170              		.cfi_def_cfa_offset 0
 171              		.cfi_restore 4
 172              		.cfi_restore 14
 173              		.loc 1 120 1 view .LVU40
 174 004c 7047     		bx	lr
 175              	.L13:
 176 004e 00BF     		.align	2
 177              	.L12:
 178 0050 CDCCCCCC 		.word	-858993459
 179              		.cfi_endproc
 180              	.LFE823:
 182              		.section	.text.copy_TMdata,"ax",%progbits
 183              		.align	1
 184              		.syntax unified
 185              		.thumb
 186              		.thumb_func
 188              	copy_TMdata:
 189              	.LVL14:
 190              	.LFB827:
 121:IO_drivers/rtc.c **** 
 122:IO_drivers/rtc.c **** //---------------------------------------------------------------------------------------------//
 123:IO_drivers/rtc.c **** static void CalcUNIXtime_from_DS3231 (uint32_t * UNIX_time, uint8_t * time_data)
 124:IO_drivers/rtc.c **** {
 125:IO_drivers/rtc.c **** 	#ifdef __USE_DBG
 126:IO_drivers/rtc.c **** 	 	snprintf (DBG_buffer,  BUFFER_SIZE, "s=%u,min=%u,h=%u,d=%u,month=%u,year=%u\r\n", *time_data, 
 127:IO_drivers/rtc.c **** 		*(time_data+1), *(time_data+2), *(time_data+3), *(time_data+4), *(time_data+5));	          
 128:IO_drivers/rtc.c ****       	DBG_PutString(DBG_buffer);
 129:IO_drivers/rtc.c **** 	#endif
 130:IO_drivers/rtc.c **** 
 131:IO_drivers/rtc.c **** 	TimeStamp.tm_sec = *(time_data+0); //second
 132:IO_drivers/rtc.c **** 	TimeStamp.tm_min = *(time_data+1); //minute
 133:IO_drivers/rtc.c **** 	TimeStamp.tm_hour = *(time_data+2); //hour
 134:IO_drivers/rtc.c **** 	TimeStamp.tm_mday = *(time_data+3)+1; //day
 135:IO_drivers/rtc.c **** 	TimeStamp.tm_mon = *(time_data+4)-1; //month(1..12)	
 136:IO_drivers/rtc.c **** 	TimeStamp.tm_year = *(time_data+5) + (2000 - 1900); //year (2025->125)
 137:IO_drivers/rtc.c **** 	*UNIX_time =  (uint32_t	) mktime64(&TimeStamp); //–ø–µ—Ä–µ–≤–æ–¥ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –¥–∞—Ç—ã –≤ 
 138:IO_drivers/rtc.c **** }
 139:IO_drivers/rtc.c **** 
 140:IO_drivers/rtc.c **** //------------------–ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ DS3231 –∏ —Ä–∞—Å—á—ë—Ç UNIX
 141:IO_drivers/rtc.c **** uint32_t GetUnixTime_from_DS3231 (void)
 142:IO_drivers/rtc.c **** {
 143:IO_drivers/rtc.c **** 	status = I2C_OK;
 144:IO_drivers/rtc.c ****     status = GetTime_DS3231 ();
 145:IO_drivers/rtc.c **** 
 146:IO_drivers/rtc.c **** 	if (status == I2C_OK)
 147:IO_drivers/rtc.c **** 	{	
 148:IO_drivers/rtc.c **** 		convert_time (data.time, data.DS3231_getdata, NUMB_DIGITS_BOARD/2); //—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å
 149:IO_drivers/rtc.c **** 		CalcUNIXtime_from_DS3231 (&data.DS3231_UNIXtime, data.DS3231_getdata);  //—Ä–∞—Å—á—ë—Ç UNIX –≤—Ä–
 150:IO_drivers/rtc.c **** 		return data.DS3231_UNIXtime;
 151:IO_drivers/rtc.c **** 	}
 152:IO_drivers/rtc.c **** 	else
 153:IO_drivers/rtc.c **** 	{ return 0;	}
ARM GAS  /tmp/ccBVJHev.s 			page 7


 154:IO_drivers/rtc.c **** 
 155:IO_drivers/rtc.c **** }
 156:IO_drivers/rtc.c **** 
 157:IO_drivers/rtc.c **** //---------------------------------------------------------------------------------------------//
 158:IO_drivers/rtc.c **** static void CalcTimeStamp_from_UART (uint32_t UART_UNIXtime)
 159:IO_drivers/rtc.c **** {
 160:IO_drivers/rtc.c **** 	int64_t buf = (uint64_t)UART_UNIXtime;
 161:IO_drivers/rtc.c **** 	TimeStamp = *gmtime64_r (&buf, &TimeStamp);
 162:IO_drivers/rtc.c **** 
 163:IO_drivers/rtc.c **** }
 164:IO_drivers/rtc.c **** 
 165:IO_drivers/rtc.c **** //---------------------------------------------------------------------------------------------//
 166:IO_drivers/rtc.c **** static void copy_TMdata(uint8_t *RTC_buffer)
 167:IO_drivers/rtc.c **** {
 191              		.loc 1 167 1 is_stmt 1 view -0
 192              		.cfi_startproc
 193              		@ args = 0, pretend = 0, frame = 0
 194              		@ frame_needed = 0, uses_anonymous_args = 0
 195              		@ link register save eliminated.
 168:IO_drivers/rtc.c **** 	*RTC_buffer 		=  TimeStamp.tm_sec;
 196              		.loc 1 168 2 view .LVU42
 197              		.loc 1 168 28 is_stmt 0 view .LVU43
 198 0000 074B     		ldr	r3, .L15
 199 0002 1A68     		ldr	r2, [r3]
 200              		.loc 1 168 16 view .LVU44
 201 0004 0270     		strb	r2, [r0]
 169:IO_drivers/rtc.c **** 	*(RTC_buffer+1) 	=  TimeStamp.tm_min;
 202              		.loc 1 169 2 is_stmt 1 view .LVU45
 203              		.loc 1 169 31 is_stmt 0 view .LVU46
 204 0006 5A68     		ldr	r2, [r3, #4]
 205              		.loc 1 169 19 view .LVU47
 206 0008 4270     		strb	r2, [r0, #1]
 170:IO_drivers/rtc.c **** 	*(RTC_buffer+2) 	=  TimeStamp.tm_hour;
 207              		.loc 1 170 2 is_stmt 1 view .LVU48
 208              		.loc 1 170 31 is_stmt 0 view .LVU49
 209 000a 9A68     		ldr	r2, [r3, #8]
 210              		.loc 1 170 19 view .LVU50
 211 000c 8270     		strb	r2, [r0, #2]
 171:IO_drivers/rtc.c **** 	*(RTC_buffer+3) 	=  (TimeStamp.tm_mday);
 212              		.loc 1 171 2 is_stmt 1 view .LVU51
 213              		.loc 1 171 32 is_stmt 0 view .LVU52
 214 000e DA68     		ldr	r2, [r3, #12]
 215              		.loc 1 171 19 view .LVU53
 216 0010 C270     		strb	r2, [r0, #3]
 172:IO_drivers/rtc.c **** 	*(RTC_buffer+4) 	=  (TimeStamp.tm_mon) + 1; //–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ TimeStamp –º–µ—Å—è—Ü–∞ –æ—Ç 0 
 217              		.loc 1 172 2 is_stmt 1 view .LVU54
 218              		.loc 1 172 32 is_stmt 0 view .LVU55
 219 0012 1A69     		ldr	r2, [r3, #16]
 220              		.loc 1 172 41 view .LVU56
 221 0014 0132     		adds	r2, r2, #1
 222              		.loc 1 172 19 view .LVU57
 223 0016 0271     		strb	r2, [r0, #4]
 173:IO_drivers/rtc.c **** 	*(RTC_buffer+5) 	=  TimeStamp.tm_year - (2000 - 1900);
 224              		.loc 1 173 2 is_stmt 1 view .LVU58
 225              		.loc 1 173 31 is_stmt 0 view .LVU59
 226 0018 5B69     		ldr	r3, [r3, #20]
 227              		.loc 1 173 40 view .LVU60
ARM GAS  /tmp/ccBVJHev.s 			page 8


 228 001a 643B     		subs	r3, r3, #100
 229              		.loc 1 173 19 view .LVU61
 230 001c 4371     		strb	r3, [r0, #5]
 174:IO_drivers/rtc.c **** }
 231              		.loc 1 174 1 view .LVU62
 232 001e 7047     		bx	lr
 233              	.L16:
 234              		.align	2
 235              	.L15:
 236 0020 00000000 		.word	.LANCHOR0
 237              		.cfi_endproc
 238              	.LFE827:
 240              		.section	.text.GetDataDS3231,"ax",%progbits
 241              		.align	1
 242              		.syntax unified
 243              		.thumb
 244              		.thumb_func
 246              	GetDataDS3231:
 247              	.LVL15:
 248              	.LFB817:
  43:IO_drivers/rtc.c **** 	status = I2C_OK;
 249              		.loc 1 43 1 is_stmt 1 view -0
 250              		.cfi_startproc
 251              		@ args = 0, pretend = 0, frame = 0
 252              		@ frame_needed = 0, uses_anonymous_args = 0
  43:IO_drivers/rtc.c **** 	status = I2C_OK;
 253              		.loc 1 43 1 is_stmt 0 view .LVU64
 254 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 255              	.LCFI2:
 256              		.cfi_def_cfa_offset 24
 257              		.cfi_offset 3, -24
 258              		.cfi_offset 4, -20
 259              		.cfi_offset 5, -16
 260              		.cfi_offset 6, -12
 261              		.cfi_offset 7, -8
 262              		.cfi_offset 14, -4
 263 0002 0846     		mov	r0, r1
 264              	.LVL16:
  43:IO_drivers/rtc.c **** 	status = I2C_OK;
 265              		.loc 1 43 1 view .LVU65
 266 0004 1646     		mov	r6, r2
 267 0006 1D46     		mov	r5, r3
  44:IO_drivers/rtc.c **** 
 268              		.loc 1 44 2 is_stmt 1 view .LVU66
  44:IO_drivers/rtc.c **** 
 269              		.loc 1 44 9 is_stmt 0 view .LVU67
 270 0008 0E4F     		ldr	r7, .L24
 271 000a 0023     		movs	r3, #0
 272              	.LVL17:
  44:IO_drivers/rtc.c **** 
 273              		.loc 1 44 9 view .LVU68
 274 000c 3B70     		strb	r3, [r7]
  46:IO_drivers/rtc.c **** 	{
 275              		.loc 1 46 2 is_stmt 1 view .LVU69
  46:IO_drivers/rtc.c **** 	{
 276              		.loc 1 46 16 is_stmt 0 view .LVU70
 277 000e 2946     		mov	r1, r5
ARM GAS  /tmp/ccBVJHev.s 			page 9


 278              	.LVL18:
  46:IO_drivers/rtc.c **** 	{
 279              		.loc 1 46 16 view .LVU71
 280 0010 FFF7FEFF 		bl	I2C_ReadBuffer
 281              	.LVL19:
  46:IO_drivers/rtc.c **** 	{
 282              		.loc 1 46 16 view .LVU72
 283 0014 0446     		mov	r4, r0
  46:IO_drivers/rtc.c **** 	{
 284              		.loc 1 46 14 view .LVU73
 285 0016 3870     		strb	r0, [r7]
  46:IO_drivers/rtc.c **** 	{
 286              		.loc 1 46 5 view .LVU74
 287 0018 38B1     		cbz	r0, .L18
 288              	.LBB4:
  55:IO_drivers/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 289              		.loc 1 55 16 view .LVU75
 290 001a 0020     		movs	r0, #0
 291 001c 0EE0     		b	.L19
 292              	.LVL20:
 293              	.L20:
  55:IO_drivers/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 294              		.loc 1 55 16 view .LVU76
 295              	.LBE4:
 296              	.LBB5:
  50:IO_drivers/rtc.c **** 		}
 297              		.loc 1 50 4 is_stmt 1 discriminator 3 view .LVU77
  50:IO_drivers/rtc.c **** 		}
 298              		.loc 1 50 26 is_stmt 0 discriminator 3 view .LVU78
 299 001e 285D     		ldrb	r0, [r5, r4]	@ zero_extendqisi2
 300 0020 FFF7FEFF 		bl	RTC_ConvertToDec
 301              	.LVL21:
  50:IO_drivers/rtc.c **** 		}
 302              		.loc 1 50 24 discriminator 3 view .LVU79
 303 0024 2855     		strb	r0, [r5, r4]
  48:IO_drivers/rtc.c **** 		{
 304              		.loc 1 48 44 is_stmt 1 discriminator 3 view .LVU80
  48:IO_drivers/rtc.c **** 		{
 305              		.loc 1 48 49 is_stmt 0 discriminator 3 view .LVU81
 306 0026 0134     		adds	r4, r4, #1
 307              	.LVL22:
  48:IO_drivers/rtc.c **** 		{
 308              		.loc 1 48 49 discriminator 3 view .LVU82
 309 0028 E4B2     		uxtb	r4, r4
 310              	.LVL23:
 311              	.L18:
  48:IO_drivers/rtc.c **** 		{
 312              		.loc 1 48 27 is_stmt 1 discriminator 1 view .LVU83
  48:IO_drivers/rtc.c **** 		{
 313              		.loc 1 48 3 is_stmt 0 discriminator 1 view .LVU84
 314 002a B442     		cmp	r4, r6
 315 002c F7D3     		bcc	.L20
 316              	.LVL24:
 317              	.L21:
  48:IO_drivers/rtc.c **** 		{
 318              		.loc 1 48 3 discriminator 1 view .LVU85
 319              	.LBE5:
ARM GAS  /tmp/ccBVJHev.s 			page 10


  58:IO_drivers/rtc.c **** }
 320              		.loc 1 58 2 is_stmt 1 view .LVU86
  59:IO_drivers/rtc.c **** 
 321              		.loc 1 59 1 is_stmt 0 view .LVU87
 322 002e 054B     		ldr	r3, .L24
 323 0030 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 324 0032 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 325              	.LVL25:
 326              	.L22:
 327              	.LBB6:
  56:IO_drivers/rtc.c **** 	}
 328              		.loc 1 56 5 is_stmt 1 discriminator 3 view .LVU88
  56:IO_drivers/rtc.c **** 	}
 329              		.loc 1 56 25 is_stmt 0 discriminator 3 view .LVU89
 330 0034 0023     		movs	r3, #0
 331 0036 2B54     		strb	r3, [r5, r0]
  55:IO_drivers/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 332              		.loc 1 55 44 is_stmt 1 discriminator 3 view .LVU90
  55:IO_drivers/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 333              		.loc 1 55 49 is_stmt 0 discriminator 3 view .LVU91
 334 0038 0130     		adds	r0, r0, #1
 335              	.LVL26:
  55:IO_drivers/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 336              		.loc 1 55 49 discriminator 3 view .LVU92
 337 003a C0B2     		uxtb	r0, r0
 338              	.LVL27:
 339              	.L19:
  55:IO_drivers/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 340              		.loc 1 55 27 is_stmt 1 discriminator 1 view .LVU93
  55:IO_drivers/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 341              		.loc 1 55 3 is_stmt 0 discriminator 1 view .LVU94
 342 003c B042     		cmp	r0, r6
 343 003e F9D3     		bcc	.L22
 344 0040 F5E7     		b	.L21
 345              	.L25:
 346 0042 00BF     		.align	2
 347              	.L24:
 348 0044 00000000 		.word	.LANCHOR1
 349              	.LBE6:
 350              		.cfi_endproc
 351              	.LFE817:
 353              		.section	.text.GetTime_DS3231,"ax",%progbits
 354              		.align	1
 355              		.syntax unified
 356              		.thumb
 357              		.thumb_func
 359              	GetTime_DS3231:
 360              	.LFB822:
 104:IO_drivers/rtc.c **** 	status = I2C_OK;
 361              		.loc 1 104 1 is_stmt 1 view -0
 362              		.cfi_startproc
 363              		@ args = 0, pretend = 0, frame = 0
 364              		@ frame_needed = 0, uses_anonymous_args = 0
 365 0000 38B5     		push	{r3, r4, r5, lr}
 366              	.LCFI3:
 367              		.cfi_def_cfa_offset 16
 368              		.cfi_offset 3, -16
ARM GAS  /tmp/ccBVJHev.s 			page 11


 369              		.cfi_offset 4, -12
 370              		.cfi_offset 5, -8
 371              		.cfi_offset 14, -4
 105:IO_drivers/rtc.c **** 	status = GetDataDS3231(RTC_ADDRESS, FIRST_REGISTR_TIME, TIME_NUMBER, data.DS3231_getdata); //–ø–æ–
 372              		.loc 1 105 2 view .LVU96
 105:IO_drivers/rtc.c **** 	status = GetDataDS3231(RTC_ADDRESS, FIRST_REGISTR_TIME, TIME_NUMBER, data.DS3231_getdata); //–ø–æ–
 373              		.loc 1 105 9 is_stmt 0 view .LVU97
 374 0002 094C     		ldr	r4, .L28
 375 0004 0021     		movs	r1, #0
 376 0006 2170     		strb	r1, [r4]
 106:IO_drivers/rtc.c ****     status = GetDataDS3231(RTC_ADDRESS, FIRST_REGISTR_DATE, TIME_NUMBER, data.DS3231_getdata+3); //
 377              		.loc 1 106 2 is_stmt 1 view .LVU98
 106:IO_drivers/rtc.c ****     status = GetDataDS3231(RTC_ADDRESS, FIRST_REGISTR_DATE, TIME_NUMBER, data.DS3231_getdata+3); //
 378              		.loc 1 106 11 is_stmt 0 view .LVU99
 379 0008 084D     		ldr	r5, .L28+4
 380 000a 2B46     		mov	r3, r5
 381 000c 0322     		movs	r2, #3
 382 000e D020     		movs	r0, #208
 383 0010 FFF7FEFF 		bl	GetDataDS3231
 384              	.LVL28:
 106:IO_drivers/rtc.c ****     status = GetDataDS3231(RTC_ADDRESS, FIRST_REGISTR_DATE, TIME_NUMBER, data.DS3231_getdata+3); //
 385              		.loc 1 106 9 view .LVU100
 386 0014 2070     		strb	r0, [r4]
 107:IO_drivers/rtc.c **** 	return status;
 387              		.loc 1 107 5 is_stmt 1 view .LVU101
 107:IO_drivers/rtc.c **** 	return status;
 388              		.loc 1 107 14 is_stmt 0 view .LVU102
 389 0016 EB1C     		adds	r3, r5, #3
 390 0018 0322     		movs	r2, #3
 391 001a 0421     		movs	r1, #4
 392 001c D020     		movs	r0, #208
 393 001e FFF7FEFF 		bl	GetDataDS3231
 394              	.LVL29:
 107:IO_drivers/rtc.c **** 	return status;
 395              		.loc 1 107 12 view .LVU103
 396 0022 2070     		strb	r0, [r4]
 108:IO_drivers/rtc.c **** }
 397              		.loc 1 108 2 is_stmt 1 view .LVU104
 109:IO_drivers/rtc.c **** 
 398              		.loc 1 109 1 is_stmt 0 view .LVU105
 399 0024 38BD     		pop	{r3, r4, r5, pc}
 400              	.L29:
 401 0026 00BF     		.align	2
 402              	.L28:
 403 0028 00000000 		.word	.LANCHOR1
 404 002c 00000000 		.word	.LANCHOR2
 405              		.cfi_endproc
 406              	.LFE822:
 408              		.section	.rodata.CalcUNIXtime_from_DS3231.str1.4,"aMS",%progbits,1
 409              		.align	2
 410              	.LC0:
 411 0000 733D2575 		.ascii	"s=%u,min=%u,h=%u,d=%u,month=%u,year=%u\015\012\000"
 411      2C6D696E 
 411      3D25752C 
 411      683D2575 
 411      2C643D25 
 412              		.section	.text.CalcUNIXtime_from_DS3231,"ax",%progbits
ARM GAS  /tmp/ccBVJHev.s 			page 12


 413              		.align	1
 414              		.syntax unified
 415              		.thumb
 416              		.thumb_func
 418              	CalcUNIXtime_from_DS3231:
 419              	.LVL30:
 420              	.LFB824:
 124:IO_drivers/rtc.c **** 	#ifdef __USE_DBG
 421              		.loc 1 124 1 is_stmt 1 view -0
 422              		.cfi_startproc
 423              		@ args = 0, pretend = 0, frame = 0
 424              		@ frame_needed = 0, uses_anonymous_args = 0
 124:IO_drivers/rtc.c **** 	#ifdef __USE_DBG
 425              		.loc 1 124 1 is_stmt 0 view .LVU107
 426 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 427              	.LCFI4:
 428              		.cfi_def_cfa_offset 20
 429              		.cfi_offset 4, -20
 430              		.cfi_offset 5, -16
 431              		.cfi_offset 6, -12
 432              		.cfi_offset 7, -8
 433              		.cfi_offset 14, -4
 434 0002 87B0     		sub	sp, sp, #28
 435              	.LCFI5:
 436              		.cfi_def_cfa_offset 48
 437 0004 0546     		mov	r5, r0
 438 0006 0C46     		mov	r4, r1
 126:IO_drivers/rtc.c **** 		*(time_data+1), *(time_data+2), *(time_data+3), *(time_data+4), *(time_data+5));	          
 439              		.loc 1 126 4 is_stmt 1 view .LVU108
 127:IO_drivers/rtc.c ****       	DBG_PutString(DBG_buffer);
 440              		.loc 1 127 3 is_stmt 0 view .LVU109
 441 0008 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 127:IO_drivers/rtc.c ****       	DBG_PutString(DBG_buffer);
 442              		.loc 1 127 19 view .LVU110
 443 000a 8A78     		ldrb	r2, [r1, #2]	@ zero_extendqisi2
 127:IO_drivers/rtc.c ****       	DBG_PutString(DBG_buffer);
 444              		.loc 1 127 35 view .LVU111
 445 000c C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 446              	.LVL31:
 127:IO_drivers/rtc.c ****       	DBG_PutString(DBG_buffer);
 447              		.loc 1 127 51 view .LVU112
 448 000e 2079     		ldrb	r0, [r4, #4]	@ zero_extendqisi2
 449              	.LVL32:
 127:IO_drivers/rtc.c ****       	DBG_PutString(DBG_buffer);
 450              		.loc 1 127 67 view .LVU113
 451 0010 6779     		ldrb	r7, [r4, #5]	@ zero_extendqisi2
 126:IO_drivers/rtc.c **** 		*(time_data+1), *(time_data+2), *(time_data+3), *(time_data+4), *(time_data+5));	          
 452              		.loc 1 126 4 view .LVU114
 453 0012 124E     		ldr	r6, .L32
 454 0014 0497     		str	r7, [sp, #16]
 455 0016 0390     		str	r0, [sp, #12]
 456 0018 0291     		str	r1, [sp, #8]
 457 001a 0192     		str	r2, [sp, #4]
 458 001c 0093     		str	r3, [sp]
 459 001e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 460 0020 0F4A     		ldr	r2, .L32+4
 461 0022 3221     		movs	r1, #50
ARM GAS  /tmp/ccBVJHev.s 			page 13


 462 0024 3046     		mov	r0, r6
 463 0026 FFF7FEFF 		bl	snprintf
 464              	.LVL33:
 128:IO_drivers/rtc.c **** 	#endif
 465              		.loc 1 128 8 is_stmt 1 view .LVU115
 466 002a 3046     		mov	r0, r6
 467 002c FFF7FEFF 		bl	DBG_PutString
 468              	.LVL34:
 131:IO_drivers/rtc.c **** 	TimeStamp.tm_min = *(time_data+1); //minute
 469              		.loc 1 131 2 view .LVU116
 131:IO_drivers/rtc.c **** 	TimeStamp.tm_min = *(time_data+1); //minute
 470              		.loc 1 131 21 is_stmt 0 view .LVU117
 471 0030 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 131:IO_drivers/rtc.c **** 	TimeStamp.tm_min = *(time_data+1); //minute
 472              		.loc 1 131 19 view .LVU118
 473 0032 0C48     		ldr	r0, .L32+8
 474 0034 0360     		str	r3, [r0]
 132:IO_drivers/rtc.c **** 	TimeStamp.tm_hour = *(time_data+2); //hour
 475              		.loc 1 132 2 is_stmt 1 view .LVU119
 132:IO_drivers/rtc.c **** 	TimeStamp.tm_hour = *(time_data+2); //hour
 476              		.loc 1 132 21 is_stmt 0 view .LVU120
 477 0036 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 132:IO_drivers/rtc.c **** 	TimeStamp.tm_hour = *(time_data+2); //hour
 478              		.loc 1 132 19 view .LVU121
 479 0038 4360     		str	r3, [r0, #4]
 133:IO_drivers/rtc.c **** 	TimeStamp.tm_mday = *(time_data+3)+1; //day
 480              		.loc 1 133 2 is_stmt 1 view .LVU122
 133:IO_drivers/rtc.c **** 	TimeStamp.tm_mday = *(time_data+3)+1; //day
 481              		.loc 1 133 22 is_stmt 0 view .LVU123
 482 003a A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 133:IO_drivers/rtc.c **** 	TimeStamp.tm_mday = *(time_data+3)+1; //day
 483              		.loc 1 133 20 view .LVU124
 484 003c 8360     		str	r3, [r0, #8]
 134:IO_drivers/rtc.c **** 	TimeStamp.tm_mon = *(time_data+4)-1; //month(1..12)	
 485              		.loc 1 134 2 is_stmt 1 view .LVU125
 134:IO_drivers/rtc.c **** 	TimeStamp.tm_mon = *(time_data+4)-1; //month(1..12)	
 486              		.loc 1 134 22 is_stmt 0 view .LVU126
 487 003e E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 134:IO_drivers/rtc.c **** 	TimeStamp.tm_mon = *(time_data+4)-1; //month(1..12)	
 488              		.loc 1 134 36 view .LVU127
 489 0040 0133     		adds	r3, r3, #1
 134:IO_drivers/rtc.c **** 	TimeStamp.tm_mon = *(time_data+4)-1; //month(1..12)	
 490              		.loc 1 134 20 view .LVU128
 491 0042 C360     		str	r3, [r0, #12]
 135:IO_drivers/rtc.c **** 	TimeStamp.tm_year = *(time_data+5) + (2000 - 1900); //year (2025->125)
 492              		.loc 1 135 2 is_stmt 1 view .LVU129
 135:IO_drivers/rtc.c **** 	TimeStamp.tm_year = *(time_data+5) + (2000 - 1900); //year (2025->125)
 493              		.loc 1 135 21 is_stmt 0 view .LVU130
 494 0044 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 135:IO_drivers/rtc.c **** 	TimeStamp.tm_year = *(time_data+5) + (2000 - 1900); //year (2025->125)
 495              		.loc 1 135 35 view .LVU131
 496 0046 013B     		subs	r3, r3, #1
 135:IO_drivers/rtc.c **** 	TimeStamp.tm_year = *(time_data+5) + (2000 - 1900); //year (2025->125)
 497              		.loc 1 135 19 view .LVU132
 498 0048 0361     		str	r3, [r0, #16]
 136:IO_drivers/rtc.c **** 	*UNIX_time =  (uint32_t	) mktime64(&TimeStamp); //–ø–µ—Ä–µ–≤–æ–¥ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –¥–∞—Ç—ã –≤ 
 499              		.loc 1 136 2 is_stmt 1 view .LVU133
ARM GAS  /tmp/ccBVJHev.s 			page 14


 136:IO_drivers/rtc.c **** 	*UNIX_time =  (uint32_t	) mktime64(&TimeStamp); //–ø–µ—Ä–µ–≤–æ–¥ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –¥–∞—Ç—ã –≤ 
 500              		.loc 1 136 22 is_stmt 0 view .LVU134
 501 004a 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 136:IO_drivers/rtc.c **** 	*UNIX_time =  (uint32_t	) mktime64(&TimeStamp); //–ø–µ—Ä–µ–≤–æ–¥ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –¥–∞—Ç—ã –≤ 
 502              		.loc 1 136 37 view .LVU135
 503 004c 6433     		adds	r3, r3, #100
 136:IO_drivers/rtc.c **** 	*UNIX_time =  (uint32_t	) mktime64(&TimeStamp); //–ø–µ—Ä–µ–≤–æ–¥ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –¥–∞—Ç—ã –≤ 
 504              		.loc 1 136 20 view .LVU136
 505 004e 4361     		str	r3, [r0, #20]
 137:IO_drivers/rtc.c **** }
 506              		.loc 1 137 2 is_stmt 1 view .LVU137
 137:IO_drivers/rtc.c **** }
 507              		.loc 1 137 28 is_stmt 0 view .LVU138
 508 0050 FFF7FEFF 		bl	mktime64
 509              	.LVL35:
 137:IO_drivers/rtc.c **** }
 510              		.loc 1 137 13 view .LVU139
 511 0054 2860     		str	r0, [r5]
 138:IO_drivers/rtc.c **** 
 512              		.loc 1 138 1 view .LVU140
 513 0056 07B0     		add	sp, sp, #28
 514              	.LCFI6:
 515              		.cfi_def_cfa_offset 20
 516              		@ sp needed
 517 0058 F0BD     		pop	{r4, r5, r6, r7, pc}
 518              	.LVL36:
 519              	.L33:
 138:IO_drivers/rtc.c **** 
 520              		.loc 1 138 1 view .LVU141
 521 005a 00BF     		.align	2
 522              	.L32:
 523 005c 00000000 		.word	DBG_buffer
 524 0060 00000000 		.word	.LC0
 525 0064 00000000 		.word	.LANCHOR0
 526              		.cfi_endproc
 527              	.LFE824:
 529              		.section	.text.CalcTimeStamp_from_UART,"ax",%progbits
 530              		.align	1
 531              		.syntax unified
 532              		.thumb
 533              		.thumb_func
 535              	CalcTimeStamp_from_UART:
 536              	.LVL37:
 537              	.LFB826:
 159:IO_drivers/rtc.c **** 	int64_t buf = (uint64_t)UART_UNIXtime;
 538              		.loc 1 159 1 is_stmt 1 view -0
 539              		.cfi_startproc
 540              		@ args = 0, pretend = 0, frame = 8
 541              		@ frame_needed = 0, uses_anonymous_args = 0
 159:IO_drivers/rtc.c **** 	int64_t buf = (uint64_t)UART_UNIXtime;
 542              		.loc 1 159 1 is_stmt 0 view .LVU143
 543 0000 10B5     		push	{r4, lr}
 544              	.LCFI7:
 545              		.cfi_def_cfa_offset 8
 546              		.cfi_offset 4, -8
 547              		.cfi_offset 14, -4
 548 0002 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/ccBVJHev.s 			page 15


 549              	.LCFI8:
 550              		.cfi_def_cfa_offset 16
 160:IO_drivers/rtc.c **** 	TimeStamp = *gmtime64_r (&buf, &TimeStamp);
 551              		.loc 1 160 2 is_stmt 1 view .LVU144
 160:IO_drivers/rtc.c **** 	TimeStamp = *gmtime64_r (&buf, &TimeStamp);
 552              		.loc 1 160 10 is_stmt 0 view .LVU145
 553 0004 0090     		str	r0, [sp]
 554 0006 0023     		movs	r3, #0
 555 0008 0193     		str	r3, [sp, #4]
 161:IO_drivers/rtc.c **** 
 556              		.loc 1 161 2 is_stmt 1 view .LVU146
 161:IO_drivers/rtc.c **** 
 557              		.loc 1 161 15 is_stmt 0 view .LVU147
 558 000a 094C     		ldr	r4, .L36
 559 000c 2146     		mov	r1, r4
 560 000e 6846     		mov	r0, sp
 561              	.LVL38:
 161:IO_drivers/rtc.c **** 
 562              		.loc 1 161 15 view .LVU148
 563 0010 FFF7FEFF 		bl	gmtime64_r
 564              	.LVL39:
 161:IO_drivers/rtc.c **** 
 565              		.loc 1 161 12 view .LVU149
 566 0014 A446     		mov	ip, r4
 567 0016 0446     		mov	r4, r0
 568 0018 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 569 001a ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 570 001e 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 571 0020 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 572 0024 2368     		ldr	r3, [r4]
 573 0026 CCF80030 		str	r3, [ip]
 163:IO_drivers/rtc.c **** 
 574              		.loc 1 163 1 view .LVU150
 575 002a 02B0     		add	sp, sp, #8
 576              	.LCFI9:
 577              		.cfi_def_cfa_offset 8
 578              		@ sp needed
 579 002c 10BD     		pop	{r4, pc}
 580              	.L37:
 581 002e 00BF     		.align	2
 582              	.L36:
 583 0030 00000000 		.word	.LANCHOR0
 584              		.cfi_endproc
 585              	.LFE826:
 587              		.section	.text.SetTimeDS3231,"ax",%progbits
 588              		.align	1
 589              		.syntax unified
 590              		.thumb
 591              		.thumb_func
 593              	SetTimeDS3231:
 594              	.LVL40:
 595              	.LFB819:
  72:IO_drivers/rtc.c **** 	uint8_t count = 0;
 596              		.loc 1 72 1 is_stmt 1 view -0
 597              		.cfi_startproc
 598              		@ args = 0, pretend = 0, frame = 0
 599              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccBVJHev.s 			page 16


  72:IO_drivers/rtc.c **** 	uint8_t count = 0;
 600              		.loc 1 72 1 is_stmt 0 view .LVU152
 601 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 602              	.LCFI10:
 603              		.cfi_def_cfa_offset 24
 604              		.cfi_offset 3, -24
 605              		.cfi_offset 4, -20
 606              		.cfi_offset 5, -16
 607              		.cfi_offset 6, -12
 608              		.cfi_offset 7, -8
 609              		.cfi_offset 14, -4
 610 0002 0F46     		mov	r7, r1
 611 0004 1546     		mov	r5, r2
 612 0006 1E46     		mov	r6, r3
  73:IO_drivers/rtc.c **** 	status = I2C_OK;
 613              		.loc 1 73 2 is_stmt 1 view .LVU153
 614              	.LVL41:
  74:IO_drivers/rtc.c **** 
 615              		.loc 1 74 2 view .LVU154
  74:IO_drivers/rtc.c **** 
 616              		.loc 1 74 9 is_stmt 0 view .LVU155
 617 0008 0024     		movs	r4, #0
 618 000a 0D4B     		ldr	r3, .L44
 619              	.LVL42:
  74:IO_drivers/rtc.c **** 
 620              		.loc 1 74 9 view .LVU156
 621 000c 1C70     		strb	r4, [r3]
  76:IO_drivers/rtc.c **** 		*(RTC_buffer+count)  = RTC_ConvertToBinDec(*(RTC_buffer+count));  //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –≤ 
 622              		.loc 1 76 2 is_stmt 1 view .LVU157
  76:IO_drivers/rtc.c **** 		*(RTC_buffer+count)  = RTC_ConvertToBinDec(*(RTC_buffer+count));  //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –≤ 
 623              		.loc 1 76 2 is_stmt 0 view .LVU158
 624 000e 05E0     		b	.L39
 625              	.LVL43:
 626              	.L40:
  77:IO_drivers/rtc.c **** 	}
 627              		.loc 1 77 3 is_stmt 1 discriminator 3 view .LVU159
  77:IO_drivers/rtc.c **** 	}
 628              		.loc 1 77 26 is_stmt 0 discriminator 3 view .LVU160
 629 0010 305D     		ldrb	r0, [r6, r4]	@ zero_extendqisi2
 630 0012 FFF7FEFF 		bl	RTC_ConvertToBinDec
 631              	.LVL44:
  77:IO_drivers/rtc.c **** 	}
 632              		.loc 1 77 24 discriminator 3 view .LVU161
 633 0016 3055     		strb	r0, [r6, r4]
  76:IO_drivers/rtc.c **** 		*(RTC_buffer+count)  = RTC_ConvertToBinDec(*(RTC_buffer+count));  //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –≤ 
 634              		.loc 1 76 35 is_stmt 1 discriminator 3 view .LVU162
  76:IO_drivers/rtc.c **** 		*(RTC_buffer+count)  = RTC_ConvertToBinDec(*(RTC_buffer+count));  //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –≤ 
 635              		.loc 1 76 40 is_stmt 0 discriminator 3 view .LVU163
 636 0018 0134     		adds	r4, r4, #1
 637              	.LVL45:
  76:IO_drivers/rtc.c **** 		*(RTC_buffer+count)  = RTC_ConvertToBinDec(*(RTC_buffer+count));  //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –≤ 
 638              		.loc 1 76 40 discriminator 3 view .LVU164
 639 001a E4B2     		uxtb	r4, r4
 640              	.LVL46:
 641              	.L39:
  76:IO_drivers/rtc.c **** 		*(RTC_buffer+count)  = RTC_ConvertToBinDec(*(RTC_buffer+count));  //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –≤ 
 642              		.loc 1 76 18 is_stmt 1 discriminator 1 view .LVU165
ARM GAS  /tmp/ccBVJHev.s 			page 17


  76:IO_drivers/rtc.c **** 		*(RTC_buffer+count)  = RTC_ConvertToBinDec(*(RTC_buffer+count));  //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –≤ 
 643              		.loc 1 76 2 is_stmt 0 discriminator 1 view .LVU166
 644 001c AC42     		cmp	r4, r5
 645 001e F7D3     		bcc	.L40
  80:IO_drivers/rtc.c **** 	{	 
 646              		.loc 1 80 13 view .LVU167
 647 0020 0024     		movs	r4, #0
 648              	.LVL47:
  80:IO_drivers/rtc.c **** 	{	 
 649              		.loc 1 80 13 view .LVU168
 650 0022 08E0     		b	.L41
 651              	.LVL48:
 652              	.L42:
  82:IO_drivers/rtc.c **** 	}	
 653              		.loc 1 82 3 is_stmt 1 discriminator 3 view .LVU169
  82:IO_drivers/rtc.c **** 	}	
 654              		.loc 1 82 12 is_stmt 0 discriminator 3 view .LVU170
 655 0024 2A46     		mov	r2, r5
 656 0026 3146     		mov	r1, r6
 657 0028 3846     		mov	r0, r7
 658 002a FFF7FEFF 		bl	I2C_WriteBuffer
 659              	.LVL49:
  82:IO_drivers/rtc.c **** 	}	
 660              		.loc 1 82 10 discriminator 3 view .LVU171
 661 002e 044B     		ldr	r3, .L44
 662 0030 1870     		strb	r0, [r3]
  80:IO_drivers/rtc.c **** 	{	 
 663              		.loc 1 80 35 is_stmt 1 discriminator 3 view .LVU172
  80:IO_drivers/rtc.c **** 	{	 
 664              		.loc 1 80 40 is_stmt 0 discriminator 3 view .LVU173
 665 0032 0134     		adds	r4, r4, #1
 666              	.LVL50:
  80:IO_drivers/rtc.c **** 	{	 
 667              		.loc 1 80 40 discriminator 3 view .LVU174
 668 0034 E4B2     		uxtb	r4, r4
 669              	.LVL51:
 670              	.L41:
  80:IO_drivers/rtc.c **** 	{	 
 671              		.loc 1 80 18 is_stmt 1 discriminator 1 view .LVU175
  80:IO_drivers/rtc.c **** 	{	 
 672              		.loc 1 80 2 is_stmt 0 discriminator 1 view .LVU176
 673 0036 AC42     		cmp	r4, r5
 674 0038 F4D3     		bcc	.L42
  85:IO_drivers/rtc.c **** }
 675              		.loc 1 85 2 is_stmt 1 view .LVU177
  86:IO_drivers/rtc.c **** 
 676              		.loc 1 86 1 is_stmt 0 view .LVU178
 677 003a 014B     		ldr	r3, .L44
 678 003c 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 679 003e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 680              	.LVL52:
 681              	.L45:
  86:IO_drivers/rtc.c **** 
 682              		.loc 1 86 1 view .LVU179
 683              		.align	2
 684              	.L44:
 685 0040 00000000 		.word	.LANCHOR1
ARM GAS  /tmp/ccBVJHev.s 			page 18


 686              		.cfi_endproc
 687              	.LFE819:
 689              		.section	.text.GetTempDS3231,"ax",%progbits
 690              		.align	1
 691              		.global	GetTempDS3231
 692              		.syntax unified
 693              		.thumb
 694              		.thumb_func
 696              	GetTempDS3231:
 697              	.LVL53:
 698              	.LFB818:
  63:IO_drivers/rtc.c **** 	status = I2C_OK;
 699              		.loc 1 63 1 is_stmt 1 view -0
 700              		.cfi_startproc
 701              		@ args = 0, pretend = 0, frame = 0
 702              		@ frame_needed = 0, uses_anonymous_args = 0
  63:IO_drivers/rtc.c **** 	status = I2C_OK;
 703              		.loc 1 63 1 is_stmt 0 view .LVU181
 704 0000 38B5     		push	{r3, r4, r5, lr}
 705              	.LCFI11:
 706              		.cfi_def_cfa_offset 16
 707              		.cfi_offset 3, -16
 708              		.cfi_offset 4, -12
 709              		.cfi_offset 5, -8
 710              		.cfi_offset 14, -4
 711 0002 0846     		mov	r0, r1
 712              	.LVL54:
  63:IO_drivers/rtc.c **** 	status = I2C_OK;
 713              		.loc 1 63 1 view .LVU182
 714 0004 1446     		mov	r4, r2
  64:IO_drivers/rtc.c **** 	if ((status = I2C_ReadByte (registr_adress,  temp_buffer)) != I2C_OK)
 715              		.loc 1 64 2 is_stmt 1 view .LVU183
  64:IO_drivers/rtc.c **** 	if ((status = I2C_ReadByte (registr_adress,  temp_buffer)) != I2C_OK)
 716              		.loc 1 64 9 is_stmt 0 view .LVU184
 717 0006 064D     		ldr	r5, .L49
 718 0008 0023     		movs	r3, #0
 719 000a 2B70     		strb	r3, [r5]
  65:IO_drivers/rtc.c **** 	{	*temp_buffer = 0;	}	
 720              		.loc 1 65 2 is_stmt 1 view .LVU185
  65:IO_drivers/rtc.c **** 	{	*temp_buffer = 0;	}	
 721              		.loc 1 65 16 is_stmt 0 view .LVU186
 722 000c 1146     		mov	r1, r2
 723              	.LVL55:
  65:IO_drivers/rtc.c **** 	{	*temp_buffer = 0;	}	
 724              		.loc 1 65 16 view .LVU187
 725 000e FFF7FEFF 		bl	I2C_ReadByte
 726              	.LVL56:
  65:IO_drivers/rtc.c **** 	{	*temp_buffer = 0;	}	
 727              		.loc 1 65 14 view .LVU188
 728 0012 2870     		strb	r0, [r5]
  65:IO_drivers/rtc.c **** 	{	*temp_buffer = 0;	}	
 729              		.loc 1 65 5 view .LVU189
 730 0014 08B1     		cbz	r0, .L47
  66:IO_drivers/rtc.c **** 	return  status;
 731              		.loc 1 66 4 is_stmt 1 view .LVU190
  66:IO_drivers/rtc.c **** 	return  status;
 732              		.loc 1 66 17 is_stmt 0 view .LVU191
ARM GAS  /tmp/ccBVJHev.s 			page 19


 733 0016 0023     		movs	r3, #0
 734 0018 2370     		strb	r3, [r4]
 735              	.L47:
  67:IO_drivers/rtc.c **** }
 736              		.loc 1 67 2 is_stmt 1 view .LVU192
  68:IO_drivers/rtc.c **** 
 737              		.loc 1 68 1 is_stmt 0 view .LVU193
 738 001a 014B     		ldr	r3, .L49
 739 001c 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 740 001e 38BD     		pop	{r3, r4, r5, pc}
 741              	.LVL57:
 742              	.L50:
  68:IO_drivers/rtc.c **** 
 743              		.loc 1 68 1 view .LVU194
 744              		.align	2
 745              	.L49:
 746 0020 00000000 		.word	.LANCHOR1
 747              		.cfi_endproc
 748              	.LFE818:
 750              		.section	.text.GetUnixTime_from_DS3231,"ax",%progbits
 751              		.align	1
 752              		.global	GetUnixTime_from_DS3231
 753              		.syntax unified
 754              		.thumb
 755              		.thumb_func
 757              	GetUnixTime_from_DS3231:
 758              	.LFB825:
 142:IO_drivers/rtc.c **** 	status = I2C_OK;
 759              		.loc 1 142 1 is_stmt 1 view -0
 760              		.cfi_startproc
 761              		@ args = 0, pretend = 0, frame = 0
 762              		@ frame_needed = 0, uses_anonymous_args = 0
 763 0000 10B5     		push	{r4, lr}
 764              	.LCFI12:
 765              		.cfi_def_cfa_offset 8
 766              		.cfi_offset 4, -8
 767              		.cfi_offset 14, -4
 143:IO_drivers/rtc.c ****     status = GetTime_DS3231 ();
 768              		.loc 1 143 2 view .LVU196
 143:IO_drivers/rtc.c ****     status = GetTime_DS3231 ();
 769              		.loc 1 143 9 is_stmt 0 view .LVU197
 770 0002 0B4C     		ldr	r4, .L56
 771 0004 0023     		movs	r3, #0
 772 0006 2370     		strb	r3, [r4]
 144:IO_drivers/rtc.c **** 
 773              		.loc 1 144 5 is_stmt 1 view .LVU198
 144:IO_drivers/rtc.c **** 
 774              		.loc 1 144 14 is_stmt 0 view .LVU199
 775 0008 FFF7FEFF 		bl	GetTime_DS3231
 776              	.LVL58:
 144:IO_drivers/rtc.c **** 
 777              		.loc 1 144 12 view .LVU200
 778 000c 2070     		strb	r0, [r4]
 146:IO_drivers/rtc.c **** 	{	
 779              		.loc 1 146 2 is_stmt 1 view .LVU201
 146:IO_drivers/rtc.c **** 	{	
 780              		.loc 1 146 5 is_stmt 0 view .LVU202
ARM GAS  /tmp/ccBVJHev.s 			page 20


 781 000e 08B1     		cbz	r0, .L55
 153:IO_drivers/rtc.c **** 
 782              		.loc 1 153 11 view .LVU203
 783 0010 0020     		movs	r0, #0
 784              	.L51:
 155:IO_drivers/rtc.c **** 
 785              		.loc 1 155 1 view .LVU204
 786 0012 10BD     		pop	{r4, pc}
 787              	.L55:
 148:IO_drivers/rtc.c **** 		CalcUNIXtime_from_DS3231 (&data.DS3231_UNIXtime, data.DS3231_getdata);  //—Ä–∞—Å—á—ë—Ç UNIX –≤—Ä–
 788              		.loc 1 148 3 is_stmt 1 view .LVU205
 789 0014 074C     		ldr	r4, .L56+4
 790 0016 0322     		movs	r2, #3
 791 0018 2146     		mov	r1, r4
 792 001a 04F10C00 		add	r0, r4, #12
 793 001e FFF7FEFF 		bl	convert_time
 794              	.LVL59:
 149:IO_drivers/rtc.c **** 		return data.DS3231_UNIXtime;
 795              		.loc 1 149 3 view .LVU206
 796 0022 2146     		mov	r1, r4
 797 0024 04F11400 		add	r0, r4, #20
 798 0028 FFF7FEFF 		bl	CalcUNIXtime_from_DS3231
 799              	.LVL60:
 150:IO_drivers/rtc.c **** 	}
 800              		.loc 1 150 3 view .LVU207
 150:IO_drivers/rtc.c **** 	}
 801              		.loc 1 150 14 is_stmt 0 view .LVU208
 802 002c 6069     		ldr	r0, [r4, #20]
 803 002e F0E7     		b	.L51
 804              	.L57:
 805              		.align	2
 806              	.L56:
 807 0030 00000000 		.word	.LANCHOR1
 808 0034 00000000 		.word	.LANCHOR2
 809              		.cfi_endproc
 810              	.LFE825:
 812              		.section	.text.PrepareSendTimedata_to_DS3231,"ax",%progbits
 813              		.align	1
 814              		.global	PrepareSendTimedata_to_DS3231
 815              		.syntax unified
 816              		.thumb
 817              		.thumb_func
 819              	PrepareSendTimedata_to_DS3231:
 820              	.LVL61:
 821              	.LFB828:
 175:IO_drivers/rtc.c **** 
 176:IO_drivers/rtc.c **** //------------–ø–µ—Ä–µ–≤–æ–¥ UNIX –≤—Ä–µ–º–µ–Ω–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –∑–∞–ø–∏—Å—å –ø–æ–ª—É—á–µ
 177:IO_drivers/rtc.c **** uint8_t PrepareSendTimedata_to_DS3231 (uint32_t UART_UnixTime)
 178:IO_drivers/rtc.c **** {
 822              		.loc 1 178 1 is_stmt 1 view -0
 823              		.cfi_startproc
 824              		@ args = 0, pretend = 0, frame = 0
 825              		@ frame_needed = 0, uses_anonymous_args = 0
 826              		.loc 1 178 1 is_stmt 0 view .LVU210
 827 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 828              	.LCFI13:
 829              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccBVJHev.s 			page 21


 830              		.cfi_offset 3, -24
 831              		.cfi_offset 4, -20
 832              		.cfi_offset 5, -16
 833              		.cfi_offset 6, -12
 834              		.cfi_offset 7, -8
 835              		.cfi_offset 14, -4
 179:IO_drivers/rtc.c **** 	status = I2C_OK;
 836              		.loc 1 179 2 is_stmt 1 view .LVU211
 837              		.loc 1 179 9 is_stmt 0 view .LVU212
 838 0002 0D4C     		ldr	r4, .L60
 839 0004 0026     		movs	r6, #0
 840 0006 2670     		strb	r6, [r4]
 180:IO_drivers/rtc.c **** 	CalcTimeStamp_from_UART (UART_UnixTime);
 841              		.loc 1 180 2 is_stmt 1 view .LVU213
 842 0008 FFF7FEFF 		bl	CalcTimeStamp_from_UART
 843              	.LVL62:
 181:IO_drivers/rtc.c **** 	copy_TMdata(data.DS3231_putdata);
 844              		.loc 1 181 2 view .LVU214
 845 000c 0B4D     		ldr	r5, .L60+4
 846 000e AF1D     		adds	r7, r5, #6
 847 0010 3846     		mov	r0, r7
 848 0012 FFF7FEFF 		bl	copy_TMdata
 849              	.LVL63:
 182:IO_drivers/rtc.c **** 
 183:IO_drivers/rtc.c ****     status = SetTimeDS3231 (RTC_ADDRESS, FIRST_REGISTR_TIME, TIME_NUMBER, data.DS3231_putdata);
 850              		.loc 1 183 5 view .LVU215
 851              		.loc 1 183 14 is_stmt 0 view .LVU216
 852 0016 3B46     		mov	r3, r7
 853 0018 0322     		movs	r2, #3
 854 001a 3146     		mov	r1, r6
 855 001c D020     		movs	r0, #208
 856 001e FFF7FEFF 		bl	SetTimeDS3231
 857              	.LVL64:
 858              		.loc 1 183 12 view .LVU217
 859 0022 2070     		strb	r0, [r4]
 184:IO_drivers/rtc.c ****     status = SetTimeDS3231 (RTC_ADDRESS, FIRST_REGISTR_DATE, TIME_NUMBER, data.DS3231_putdata+3);
 860              		.loc 1 184 5 is_stmt 1 view .LVU218
 861              		.loc 1 184 14 is_stmt 0 view .LVU219
 862 0024 05F10903 		add	r3, r5, #9
 863 0028 0322     		movs	r2, #3
 864 002a 0421     		movs	r1, #4
 865 002c D020     		movs	r0, #208
 866 002e FFF7FEFF 		bl	SetTimeDS3231
 867              	.LVL65:
 868              		.loc 1 184 12 view .LVU220
 869 0032 2070     		strb	r0, [r4]
 185:IO_drivers/rtc.c **** 	return status;
 870              		.loc 1 185 2 is_stmt 1 view .LVU221
 186:IO_drivers/rtc.c **** }
 871              		.loc 1 186 1 is_stmt 0 view .LVU222
 872 0034 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 873              	.L61:
 874 0036 00BF     		.align	2
 875              	.L60:
 876 0038 00000000 		.word	.LANCHOR1
 877 003c 00000000 		.word	.LANCHOR2
 878              		.cfi_endproc
ARM GAS  /tmp/ccBVJHev.s 			page 22


 879              	.LFE828:
 881              		.section	.text.return_HandleTimeBuff,"ax",%progbits
 882              		.align	1
 883              		.global	return_HandleTimeBuff
 884              		.syntax unified
 885              		.thumb
 886              		.thumb_func
 888              	return_HandleTimeBuff:
 889              	.LFB829:
 187:IO_drivers/rtc.c **** 
 188:IO_drivers/rtc.c **** //----------–≤–æ–∑–≤—Ä–∞—Ç —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Å–∏–º–≤–æ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–
 189:IO_drivers/rtc.c **** char * return_HandleTimeBuff (void)
 190:IO_drivers/rtc.c **** {
 890              		.loc 1 190 1 is_stmt 1 view -0
 891              		.cfi_startproc
 892              		@ args = 0, pretend = 0, frame = 0
 893              		@ frame_needed = 0, uses_anonymous_args = 0
 894              		@ link register save eliminated.
 191:IO_drivers/rtc.c **** 	return data.time; 
 895              		.loc 1 191 2 view .LVU224
 192:IO_drivers/rtc.c **** }
 896              		.loc 1 192 1 is_stmt 0 view .LVU225
 897 0000 0048     		ldr	r0, .L63
 898 0002 7047     		bx	lr
 899              	.L64:
 900              		.align	2
 901              	.L63:
 902 0004 0C000000 		.word	.LANCHOR2+12
 903              		.cfi_endproc
 904              	.LFE829:
 906              		.global	pred_sum
 907              		.global	status
 908              		.global	data
 909              		.global	TimeStamp
 910              		.section	.bss.TimeStamp,"aw",%nobits
 911              		.align	2
 912              		.set	.LANCHOR0,. + 0
 915              	TimeStamp:
 916 0000 00000000 		.space	36
 916      00000000 
 916      00000000 
 916      00000000 
 916      00000000 
 917              		.section	.bss.data,"aw",%nobits
 918              		.align	2
 919              		.set	.LANCHOR2,. + 0
 922              	data:
 923 0000 00000000 		.space	24
 923      00000000 
 923      00000000 
 923      00000000 
 923      00000000 
 924              		.section	.bss.status,"aw",%nobits
 925              		.set	.LANCHOR1,. + 0
 928              	status:
 929 0000 00       		.space	1
 930              		.section	.rodata.pred_sum,"a"
ARM GAS  /tmp/ccBVJHev.s 			page 23


 931              		.align	2
 934              	pred_sum:
 935 0000 00000000 		.word	0
 936 0004 1F000000 		.word	31
 937 0008 3B000000 		.word	59
 938 000c 5A000000 		.word	90
 939 0010 78000000 		.word	120
 940 0014 97000000 		.word	151
 941 0018 B5000000 		.word	181
 942 001c D4000000 		.word	212
 943 0020 F3000000 		.word	243
 944 0024 11010000 		.word	273
 945 0028 30010000 		.word	304
 946 002c 4E010000 		.word	334
 947 0030 00000000 		.word	0
 948 0034 1F000000 		.word	31
 949 0038 3C000000 		.word	60
 950 003c 5B000000 		.word	91
 951 0040 79000000 		.word	121
 952 0044 98000000 		.word	152
 953 0048 B6000000 		.word	182
 954 004c D5000000 		.word	213
 955 0050 F4000000 		.word	244
 956 0054 12010000 		.word	274
 957 0058 31010000 		.word	305
 958 005c 4F010000 		.word	335
 959              		.text
 960              	.Letext0:
 961              		.file 2 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/m
 962              		.file 3 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/s
 963              		.file 4 "Drivers/STM32L1xx_HAL_Driver/Inc/stm32l1xx_ll_dma.h"
 964              		.file 5 "Drivers/STM32L1xx_HAL_Driver/Inc/stm32l1xx_ll_tim.h"
 965              		.file 6 "Core/Inc/i2c.h"
 966              		.file 7 "Core/Inc/typedef.h"
 967              		.file 8 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/t
 968              		.file 9 "Core/Inc/usart.h"
 969              		.file 10 "timer64/time64.h"
 970              		.file 11 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/
ARM GAS  /tmp/ccBVJHev.s 			page 24


DEFINED SYMBOLS
                            *ABS*:0000000000000000 rtc.c
     /tmp/ccBVJHev.s:18     .text.RTC_ConvertToDec:0000000000000000 $t
     /tmp/ccBVJHev.s:23     .text.RTC_ConvertToDec:0000000000000000 RTC_ConvertToDec
     /tmp/ccBVJHev.s:51     .text.RTC_ConvertToBinDec:0000000000000000 $t
     /tmp/ccBVJHev.s:56     .text.RTC_ConvertToBinDec:0000000000000000 RTC_ConvertToBinDec
     /tmp/ccBVJHev.s:88     .text.RTC_ConvertToBinDec:000000000000001c $d
     /tmp/ccBVJHev.s:93     .text.convert_time:0000000000000000 $t
     /tmp/ccBVJHev.s:98     .text.convert_time:0000000000000000 convert_time
     /tmp/ccBVJHev.s:178    .text.convert_time:0000000000000050 $d
     /tmp/ccBVJHev.s:183    .text.copy_TMdata:0000000000000000 $t
     /tmp/ccBVJHev.s:188    .text.copy_TMdata:0000000000000000 copy_TMdata
     /tmp/ccBVJHev.s:236    .text.copy_TMdata:0000000000000020 $d
     /tmp/ccBVJHev.s:241    .text.GetDataDS3231:0000000000000000 $t
     /tmp/ccBVJHev.s:246    .text.GetDataDS3231:0000000000000000 GetDataDS3231
     /tmp/ccBVJHev.s:348    .text.GetDataDS3231:0000000000000044 $d
     /tmp/ccBVJHev.s:354    .text.GetTime_DS3231:0000000000000000 $t
     /tmp/ccBVJHev.s:359    .text.GetTime_DS3231:0000000000000000 GetTime_DS3231
     /tmp/ccBVJHev.s:403    .text.GetTime_DS3231:0000000000000028 $d
     /tmp/ccBVJHev.s:409    .rodata.CalcUNIXtime_from_DS3231.str1.4:0000000000000000 $d
     /tmp/ccBVJHev.s:413    .text.CalcUNIXtime_from_DS3231:0000000000000000 $t
     /tmp/ccBVJHev.s:418    .text.CalcUNIXtime_from_DS3231:0000000000000000 CalcUNIXtime_from_DS3231
     /tmp/ccBVJHev.s:523    .text.CalcUNIXtime_from_DS3231:000000000000005c $d
     /tmp/ccBVJHev.s:530    .text.CalcTimeStamp_from_UART:0000000000000000 $t
     /tmp/ccBVJHev.s:535    .text.CalcTimeStamp_from_UART:0000000000000000 CalcTimeStamp_from_UART
     /tmp/ccBVJHev.s:583    .text.CalcTimeStamp_from_UART:0000000000000030 $d
     /tmp/ccBVJHev.s:588    .text.SetTimeDS3231:0000000000000000 $t
     /tmp/ccBVJHev.s:593    .text.SetTimeDS3231:0000000000000000 SetTimeDS3231
     /tmp/ccBVJHev.s:685    .text.SetTimeDS3231:0000000000000040 $d
     /tmp/ccBVJHev.s:690    .text.GetTempDS3231:0000000000000000 $t
     /tmp/ccBVJHev.s:696    .text.GetTempDS3231:0000000000000000 GetTempDS3231
     /tmp/ccBVJHev.s:746    .text.GetTempDS3231:0000000000000020 $d
     /tmp/ccBVJHev.s:751    .text.GetUnixTime_from_DS3231:0000000000000000 $t
     /tmp/ccBVJHev.s:757    .text.GetUnixTime_from_DS3231:0000000000000000 GetUnixTime_from_DS3231
     /tmp/ccBVJHev.s:807    .text.GetUnixTime_from_DS3231:0000000000000030 $d
     /tmp/ccBVJHev.s:813    .text.PrepareSendTimedata_to_DS3231:0000000000000000 $t
     /tmp/ccBVJHev.s:819    .text.PrepareSendTimedata_to_DS3231:0000000000000000 PrepareSendTimedata_to_DS3231
     /tmp/ccBVJHev.s:876    .text.PrepareSendTimedata_to_DS3231:0000000000000038 $d
     /tmp/ccBVJHev.s:882    .text.return_HandleTimeBuff:0000000000000000 $t
     /tmp/ccBVJHev.s:888    .text.return_HandleTimeBuff:0000000000000000 return_HandleTimeBuff
     /tmp/ccBVJHev.s:902    .text.return_HandleTimeBuff:0000000000000004 $d
     /tmp/ccBVJHev.s:934    .rodata.pred_sum:0000000000000000 pred_sum
     /tmp/ccBVJHev.s:928    .bss.status:0000000000000000 status
     /tmp/ccBVJHev.s:922    .bss.data:0000000000000000 data
     /tmp/ccBVJHev.s:915    .bss.TimeStamp:0000000000000000 TimeStamp
     /tmp/ccBVJHev.s:911    .bss.TimeStamp:0000000000000000 $d
     /tmp/ccBVJHev.s:918    .bss.data:0000000000000000 $d
     /tmp/ccBVJHev.s:929    .bss.status:0000000000000000 $d
     /tmp/ccBVJHev.s:931    .rodata.pred_sum:0000000000000000 $d

UNDEFINED SYMBOLS
I2C_ReadBuffer
snprintf
DBG_PutString
mktime64
DBG_buffer
gmtime64_r
ARM GAS  /tmp/ccBVJHev.s 			page 25


I2C_WriteBuffer
I2C_ReadByte
