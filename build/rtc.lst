ARM GAS  /tmp/cc4TCPVq.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"rtc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.RTC_ConvertToDec,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  23              	RTC_ConvertToDec:
  24              	.LVL0:
  25              	.LFB820:
  26              		.file 1 "Core/Src/rtc.c"
   1:Core/Src/rtc.c **** // Includes----------------------------------------------------------------------------------------
   2:Core/Src/rtc.c **** #include "rtc.h"
   3:Core/Src/rtc.c **** #include "i2c.h"
   4:Core/Src/rtc.c **** #include "typedef.h"
   5:Core/Src/rtc.c **** #include "time64.h"
   6:Core/Src/rtc.c **** 
   7:Core/Src/rtc.c **** #include "usart.h"
   8:Core/Src/rtc.c **** #include <stdio.h>
   9:Core/Src/rtc.c **** // DEFINES-----------------------------------------------------------------------------------------
  10:Core/Src/rtc.c **** 
  11:Core/Src/rtc.c **** // TYPEDEFS----------------------------------------------------------------------------------------
  12:Core/Src/rtc.c **** 
  13:Core/Src/rtc.c **** //STATIC PROTOTYPES--------------------------------------------------------------------------------
  14:Core/Src/rtc.c **** #ifdef __cplusplus
  15:Core/Src/rtc.c **** extern "C" {
  16:Core/Src/rtc.c **** #endif
  17:Core/Src/rtc.c **** static uint8_t RTC_ConvertToDec(uint8_t );
  18:Core/Src/rtc.c **** static uint8_t RTC_ConvertToBinDec(uint8_t );
  19:Core/Src/rtc.c **** #ifdef __cplusplus
  20:Core/Src/rtc.c **** }
  21:Core/Src/rtc.c **** #endif
  22:Core/Src/rtc.c **** 
  23:Core/Src/rtc.c **** // STATIC VARIABLES--------------------------------------------------------------------------------
  24:Core/Src/rtc.c **** I2C_TypeDef * RTC_I2C = I2C1;
  25:Core/Src/rtc.c **** struct TM TimeStamp;
  26:Core/Src/rtc.c **** 
  27:Core/Src/rtc.c **** //–º–∞—Å—Å–∏–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–Ω–µ–π –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –º–µ—Å—è—Ü–µ, [0][12] - –
  28:Core/Src/rtc.c **** const unsigned int pred_sum [2] [12] =	
  29:Core/Src/rtc.c **** { 
  30:Core/Src/rtc.c **** 	{0,31,59,90,120,151,181,212,243,273,304,334}, 
  31:Core/Src/rtc.c **** 	{0,31,60,91,121,152,182,213,244,274,305,335} 
  32:Core/Src/rtc.c **** };
ARM GAS  /tmp/cc4TCPVq.s 			page 2


  33:Core/Src/rtc.c **** 
  34:Core/Src/rtc.c **** //FUNCTIONS----------------------------------------------------------------------------------------
  35:Core/Src/rtc.c **** uint8_t GetTime (uint8_t RTC_adress, uint8_t registr_adress, uint8_t sizebuf, uint8_t * RTC_buffer)
  36:Core/Src/rtc.c **** {
  37:Core/Src/rtc.c **** 	uint8_t I2C_status = I2C_OK;
  38:Core/Src/rtc.c **** 
  39:Core/Src/rtc.c **** 	if ((I2C_status = I2C_ReadBuffer (registr_adress,  (uint8_t*)RTC_buffer, (uint16_t) sizebuf)) == I
  40:Core/Src/rtc.c **** 	{
  41:Core/Src/rtc.c **** 		for (uint8_t count = 0; count < sizebuf; count++)
  42:Core/Src/rtc.c **** 		{
  43:Core/Src/rtc.c **** 			*(RTC_buffer+count) = RTC_ConvertToDec(*(RTC_buffer+count)); //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –∏–∑ –¥
  44:Core/Src/rtc.c **** 		}
  45:Core/Src/rtc.c **** 	}
  46:Core/Src/rtc.c **** 	else
  47:Core/Src/rtc.c **** 	{
  48:Core/Src/rtc.c **** 		for (uint8_t count = 0; count < sizebuf; count++)
  49:Core/Src/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
  50:Core/Src/rtc.c **** 	}
  51:Core/Src/rtc.c **** 	return  I2C_status;
  52:Core/Src/rtc.c **** }
  53:Core/Src/rtc.c **** 
  54:Core/Src/rtc.c **** //-------------------------------------------------------------------------------------------------
  55:Core/Src/rtc.c **** uint8_t GetTemp (uint8_t  RTC_adress, uint8_t registr_adress,  uint8_t * temp_buffer)
  56:Core/Src/rtc.c **** {
  57:Core/Src/rtc.c **** 	uint8_t I2C_status = I2C_OK;
  58:Core/Src/rtc.c **** 	if ((I2C_status = I2C_ReadByte (registr_adress,  temp_buffer)) != I2C_OK)
  59:Core/Src/rtc.c **** 	{	*temp_buffer = 0;	}	
  60:Core/Src/rtc.c **** 	return  I2C_status;
  61:Core/Src/rtc.c **** }
  62:Core/Src/rtc.c **** 
  63:Core/Src/rtc.c **** //-------------------------------------------------------------------------------------------------
  64:Core/Src/rtc.c **** uint8_t SetTime (uint8_t RTC_adress, uint8_t registr_adr, uint8_t sizebuf, uint8_t *RTC_buffer)
  65:Core/Src/rtc.c **** {		
  66:Core/Src/rtc.c **** 	uint8_t count = 0;
  67:Core/Src/rtc.c **** 	//uint8_t buf[3];
  68:Core/Src/rtc.c **** 
  69:Core/Src/rtc.c **** 	for (count = 0; count < sizebuf; count++) //—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è RTC
  70:Core/Src/rtc.c **** 	{
  71:Core/Src/rtc.c **** 		//buf[count] = RTC_ConvertToBinDec(*(RTC_buffer+count)); //–ø–µ—Ä–µ–≤–æ–¥ —á–∏—Å–ª–∞ –≤ –¥–≤–æ–∏—
  72:Core/Src/rtc.c **** 		*(RTC_buffer+count)  = RTC_ConvertToBinDec(*(RTC_buffer+count));
  73:Core/Src/rtc.c **** 	}
  74:Core/Src/rtc.c **** 
  75:Core/Src/rtc.c **** 	#ifdef __USE_DBG
  76:Core/Src/rtc.c **** 	//snprintf (DBG_buffer,  BUFFER_SIZE, "dd, sec=%u, min=%u, h=%u\r\n", *RTC_buffer,*(RTC_buffer+1),
  77:Core/Src/rtc.c ****     //DBG_PutString(DBG_buffer);
  78:Core/Src/rtc.c **** 	#endif	
  79:Core/Src/rtc.c **** 
  80:Core/Src/rtc.c **** 
  81:Core/Src/rtc.c **** 	for (count = 0; count < sizebuf; count++)
  82:Core/Src/rtc.c **** 	{	
  83:Core/Src/rtc.c **** 		//I2C_WriteBuffer ((uint16_t)registr_adr, buf, sizebuf);	 
  84:Core/Src/rtc.c **** 		I2C_WriteBuffer ((uint16_t)registr_adr, RTC_buffer, sizebuf);
  85:Core/Src/rtc.c **** 	}	
  86:Core/Src/rtc.c **** 	
  87:Core/Src/rtc.c **** 	return  0;
  88:Core/Src/rtc.c **** }
  89:Core/Src/rtc.c **** 
ARM GAS  /tmp/cc4TCPVq.s 			page 3


  90:Core/Src/rtc.c **** //---------------—Ñ-—è –ø–µ—Ä–µ–≤–æ–¥–∞ —á–∏—Å–ª–∞ –∏–∑ –¥–≤–æ–∏—á–Ω–æ-–¥–µ—Å—è—Ç–∏—á–Ω–æ–≥–æ –ø—Ä–
  91:Core/Src/rtc.c **** static uint8_t RTC_ConvertToDec(uint8_t digit)
  92:Core/Src/rtc.c **** {
  27              		.loc 1 92 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  93:Core/Src/rtc.c **** 	uint8_t ch = ((digit>>4)*10 + (0x0F & digit));
  32              		.loc 1 93 2 view .LVU1
  33              		.loc 1 93 30 is_stmt 0 view .LVU2
  34 0000 0309     		lsrs	r3, r0, #4
  35 0002 03EB8303 		add	r3, r3, r3, lsl #2
  36              		.loc 1 93 38 view .LVU3
  37 0006 00F00F00 		and	r0, r0, #15
  38              	.LVL1:
  39              		.loc 1 93 10 view .LVU4
  40 000a 00EB4300 		add	r0, r0, r3, lsl #1
  41              	.LVL2:
  94:Core/Src/rtc.c **** 	return ch;
  42              		.loc 1 94 2 is_stmt 1 view .LVU5
  95:Core/Src/rtc.c **** }
  43              		.loc 1 95 1 is_stmt 0 view .LVU6
  44 000e C0B2     		uxtb	r0, r0
  45              		.loc 1 95 1 view .LVU7
  46 0010 7047     		bx	lr
  47              		.cfi_endproc
  48              	.LFE820:
  50              		.section	.text.RTC_ConvertToBinDec,"ax",%progbits
  51              		.align	1
  52              		.syntax unified
  53              		.thumb
  54              		.thumb_func
  56              	RTC_ConvertToBinDec:
  57              	.LVL3:
  58              	.LFB821:
  96:Core/Src/rtc.c **** 
  97:Core/Src/rtc.c **** //---------------—Ñ-—è –ø–µ—Ä–µ–≤–æ–¥–∞ —á–∏—Å–ª–∞ –∏–∑ –æ–±—ã—á–Ω–æ–≥–æ –≤ –¥–≤–æ–∏—á–Ω–æ-–¥–µ—Å—è
  98:Core/Src/rtc.c **** static uint8_t RTC_ConvertToBinDec(uint8_t digit)
  99:Core/Src/rtc.c **** {
  59              		.loc 1 99 1 is_stmt 1 view -0
  60              		.cfi_startproc
  61              		@ args = 0, pretend = 0, frame = 0
  62              		@ frame_needed = 0, uses_anonymous_args = 0
  63              		@ link register save eliminated.
 100:Core/Src/rtc.c **** 	uint8_t ch = ((digit/10) << 4) + (digit%10);
  64              		.loc 1 100 2 view .LVU9
  65              		.loc 1 100 27 is_stmt 0 view .LVU10
  66 0000 064B     		ldr	r3, .L3
  67 0002 A3FB0023 		umull	r2, r3, r3, r0
  68 0006 DB08     		lsrs	r3, r3, #3
  69 0008 1A01     		lsls	r2, r3, #4
  70 000a D2B2     		uxtb	r2, r2
  71              		.loc 1 100 33 view .LVU11
  72 000c 03EB8303 		add	r3, r3, r3, lsl #2
  73 0010 A0EB4300 		sub	r0, r0, r3, lsl #1
  74              	.LVL4:
ARM GAS  /tmp/cc4TCPVq.s 			page 4


  75              		.loc 1 100 33 view .LVU12
  76 0014 C0B2     		uxtb	r0, r0
  77              		.loc 1 100 10 view .LVU13
  78 0016 1044     		add	r0, r0, r2
  79              	.LVL5:
 101:Core/Src/rtc.c **** 	return ch;
  80              		.loc 1 101 2 is_stmt 1 view .LVU14
 102:Core/Src/rtc.c **** }
  81              		.loc 1 102 1 is_stmt 0 view .LVU15
  82 0018 C0B2     		uxtb	r0, r0
  83              		.loc 1 102 1 view .LVU16
  84 001a 7047     		bx	lr
  85              	.L4:
  86              		.align	2
  87              	.L3:
  88 001c CDCCCCCC 		.word	-858993459
  89              		.cfi_endproc
  90              	.LFE821:
  92              		.section	.text.GetTime,"ax",%progbits
  93              		.align	1
  94              		.global	GetTime
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  99              	GetTime:
 100              	.LVL6:
 101              	.LFB817:
  36:Core/Src/rtc.c **** 	uint8_t I2C_status = I2C_OK;
 102              		.loc 1 36 1 is_stmt 1 view -0
 103              		.cfi_startproc
 104              		@ args = 0, pretend = 0, frame = 0
 105              		@ frame_needed = 0, uses_anonymous_args = 0
  36:Core/Src/rtc.c **** 	uint8_t I2C_status = I2C_OK;
 106              		.loc 1 36 1 is_stmt 0 view .LVU18
 107 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 108              	.LCFI0:
 109              		.cfi_def_cfa_offset 24
 110              		.cfi_offset 3, -24
 111              		.cfi_offset 4, -20
 112              		.cfi_offset 5, -16
 113              		.cfi_offset 6, -12
 114              		.cfi_offset 7, -8
 115              		.cfi_offset 14, -4
 116 0002 0846     		mov	r0, r1
 117              	.LVL7:
  36:Core/Src/rtc.c **** 	uint8_t I2C_status = I2C_OK;
 118              		.loc 1 36 1 view .LVU19
 119 0004 1646     		mov	r6, r2
 120 0006 1D46     		mov	r5, r3
  37:Core/Src/rtc.c **** 
 121              		.loc 1 37 2 is_stmt 1 view .LVU20
 122              	.LVL8:
  39:Core/Src/rtc.c **** 	{
 123              		.loc 1 39 2 view .LVU21
  39:Core/Src/rtc.c **** 	{
 124              		.loc 1 39 20 is_stmt 0 view .LVU22
 125 0008 1946     		mov	r1, r3
ARM GAS  /tmp/cc4TCPVq.s 			page 5


 126              	.LVL9:
  39:Core/Src/rtc.c **** 	{
 127              		.loc 1 39 20 view .LVU23
 128 000a FFF7FEFF 		bl	I2C_ReadBuffer
 129              	.LVL10:
  39:Core/Src/rtc.c **** 	{
 130              		.loc 1 39 5 view .LVU24
 131 000e 0746     		mov	r7, r0
 132 0010 58B1     		cbz	r0, .L11
 133              	.LBB2:
  48:Core/Src/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 134              		.loc 1 48 16 view .LVU25
 135 0012 0020     		movs	r0, #0
 136              	.LVL11:
  48:Core/Src/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 137              		.loc 1 48 16 view .LVU26
 138 0014 0FE0     		b	.L7
 139              	.LVL12:
 140              	.L8:
  48:Core/Src/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 141              		.loc 1 48 16 view .LVU27
 142              	.LBE2:
 143              	.LBB3:
  43:Core/Src/rtc.c **** 		}
 144              		.loc 1 43 4 is_stmt 1 discriminator 3 view .LVU28
  43:Core/Src/rtc.c **** 		}
 145              		.loc 1 43 26 is_stmt 0 discriminator 3 view .LVU29
 146 0016 285D     		ldrb	r0, [r5, r4]	@ zero_extendqisi2
 147 0018 FFF7FEFF 		bl	RTC_ConvertToDec
 148              	.LVL13:
  43:Core/Src/rtc.c **** 		}
 149              		.loc 1 43 24 discriminator 3 view .LVU30
 150 001c 2855     		strb	r0, [r5, r4]
  41:Core/Src/rtc.c **** 		{
 151              		.loc 1 41 44 is_stmt 1 discriminator 3 view .LVU31
  41:Core/Src/rtc.c **** 		{
 152              		.loc 1 41 49 is_stmt 0 discriminator 3 view .LVU32
 153 001e 0134     		adds	r4, r4, #1
 154              	.LVL14:
  41:Core/Src/rtc.c **** 		{
 155              		.loc 1 41 49 discriminator 3 view .LVU33
 156 0020 E4B2     		uxtb	r4, r4
 157              	.LVL15:
 158              	.L6:
  41:Core/Src/rtc.c **** 		{
 159              		.loc 1 41 27 is_stmt 1 discriminator 1 view .LVU34
  41:Core/Src/rtc.c **** 		{
 160              		.loc 1 41 3 is_stmt 0 discriminator 1 view .LVU35
 161 0022 B442     		cmp	r4, r6
 162 0024 F7D3     		bcc	.L8
 163              	.LVL16:
 164              	.L9:
  41:Core/Src/rtc.c **** 		{
 165              		.loc 1 41 3 discriminator 1 view .LVU36
 166              	.LBE3:
  51:Core/Src/rtc.c **** }
 167              		.loc 1 51 2 is_stmt 1 view .LVU37
ARM GAS  /tmp/cc4TCPVq.s 			page 6


  52:Core/Src/rtc.c **** 
 168              		.loc 1 52 1 is_stmt 0 view .LVU38
 169 0026 3846     		mov	r0, r7
 170 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 171              	.LVL17:
 172              	.L11:
 173              	.LBB4:
  41:Core/Src/rtc.c **** 		{
 174              		.loc 1 41 16 view .LVU39
 175 002a 0446     		mov	r4, r0
 176 002c F9E7     		b	.L6
 177              	.LVL18:
 178              	.L10:
  41:Core/Src/rtc.c **** 		{
 179              		.loc 1 41 16 view .LVU40
 180              	.LBE4:
 181              	.LBB5:
  49:Core/Src/rtc.c **** 	}
 182              		.loc 1 49 5 is_stmt 1 discriminator 3 view .LVU41
  49:Core/Src/rtc.c **** 	}
 183              		.loc 1 49 25 is_stmt 0 discriminator 3 view .LVU42
 184 002e 0023     		movs	r3, #0
 185 0030 2B54     		strb	r3, [r5, r0]
  48:Core/Src/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 186              		.loc 1 48 44 is_stmt 1 discriminator 3 view .LVU43
  48:Core/Src/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 187              		.loc 1 48 49 is_stmt 0 discriminator 3 view .LVU44
 188 0032 0130     		adds	r0, r0, #1
 189              	.LVL19:
  48:Core/Src/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 190              		.loc 1 48 49 discriminator 3 view .LVU45
 191 0034 C0B2     		uxtb	r0, r0
 192              	.LVL20:
 193              	.L7:
  48:Core/Src/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 194              		.loc 1 48 27 is_stmt 1 discriminator 1 view .LVU46
  48:Core/Src/rtc.c **** 		{	*(RTC_buffer+count) = 0; }
 195              		.loc 1 48 3 is_stmt 0 discriminator 1 view .LVU47
 196 0036 B042     		cmp	r0, r6
 197 0038 F9D3     		bcc	.L10
 198 003a F4E7     		b	.L9
 199              	.LBE5:
 200              		.cfi_endproc
 201              	.LFE817:
 203              		.section	.text.GetTemp,"ax",%progbits
 204              		.align	1
 205              		.global	GetTemp
 206              		.syntax unified
 207              		.thumb
 208              		.thumb_func
 210              	GetTemp:
 211              	.LVL21:
 212              	.LFB818:
  56:Core/Src/rtc.c **** 	uint8_t I2C_status = I2C_OK;
 213              		.loc 1 56 1 is_stmt 1 view -0
 214              		.cfi_startproc
 215              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc4TCPVq.s 			page 7


 216              		@ frame_needed = 0, uses_anonymous_args = 0
  56:Core/Src/rtc.c **** 	uint8_t I2C_status = I2C_OK;
 217              		.loc 1 56 1 is_stmt 0 view .LVU49
 218 0000 10B5     		push	{r4, lr}
 219              	.LCFI1:
 220              		.cfi_def_cfa_offset 8
 221              		.cfi_offset 4, -8
 222              		.cfi_offset 14, -4
 223 0002 0846     		mov	r0, r1
 224              	.LVL22:
  56:Core/Src/rtc.c **** 	uint8_t I2C_status = I2C_OK;
 225              		.loc 1 56 1 view .LVU50
 226 0004 1446     		mov	r4, r2
  57:Core/Src/rtc.c **** 	if ((I2C_status = I2C_ReadByte (registr_adress,  temp_buffer)) != I2C_OK)
 227              		.loc 1 57 2 is_stmt 1 view .LVU51
 228              	.LVL23:
  58:Core/Src/rtc.c **** 	{	*temp_buffer = 0;	}	
 229              		.loc 1 58 2 view .LVU52
  58:Core/Src/rtc.c **** 	{	*temp_buffer = 0;	}	
 230              		.loc 1 58 20 is_stmt 0 view .LVU53
 231 0006 1146     		mov	r1, r2
 232              	.LVL24:
  58:Core/Src/rtc.c **** 	{	*temp_buffer = 0;	}	
 233              		.loc 1 58 20 view .LVU54
 234 0008 FFF7FEFF 		bl	I2C_ReadByte
 235              	.LVL25:
  58:Core/Src/rtc.c **** 	{	*temp_buffer = 0;	}	
 236              		.loc 1 58 5 view .LVU55
 237 000c 08B1     		cbz	r0, .L14
  59:Core/Src/rtc.c **** 	return  I2C_status;
 238              		.loc 1 59 4 is_stmt 1 view .LVU56
  59:Core/Src/rtc.c **** 	return  I2C_status;
 239              		.loc 1 59 17 is_stmt 0 view .LVU57
 240 000e 0023     		movs	r3, #0
 241 0010 2370     		strb	r3, [r4]
 242              	.L14:
  60:Core/Src/rtc.c **** }
 243              		.loc 1 60 2 is_stmt 1 view .LVU58
  61:Core/Src/rtc.c **** 
 244              		.loc 1 61 1 is_stmt 0 view .LVU59
 245 0012 10BD     		pop	{r4, pc}
  61:Core/Src/rtc.c **** 
 246              		.loc 1 61 1 view .LVU60
 247              		.cfi_endproc
 248              	.LFE818:
 250              		.section	.text.SetTime,"ax",%progbits
 251              		.align	1
 252              		.global	SetTime
 253              		.syntax unified
 254              		.thumb
 255              		.thumb_func
 257              	SetTime:
 258              	.LVL26:
 259              	.LFB819:
  65:Core/Src/rtc.c **** 	uint8_t count = 0;
 260              		.loc 1 65 1 is_stmt 1 view -0
 261              		.cfi_startproc
ARM GAS  /tmp/cc4TCPVq.s 			page 8


 262              		@ args = 0, pretend = 0, frame = 0
 263              		@ frame_needed = 0, uses_anonymous_args = 0
  65:Core/Src/rtc.c **** 	uint8_t count = 0;
 264              		.loc 1 65 1 is_stmt 0 view .LVU62
 265 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 266              	.LCFI2:
 267              		.cfi_def_cfa_offset 24
 268              		.cfi_offset 3, -24
 269              		.cfi_offset 4, -20
 270              		.cfi_offset 5, -16
 271              		.cfi_offset 6, -12
 272              		.cfi_offset 7, -8
 273              		.cfi_offset 14, -4
 274 0002 0F46     		mov	r7, r1
 275 0004 1546     		mov	r5, r2
 276 0006 1E46     		mov	r6, r3
  66:Core/Src/rtc.c **** 	//uint8_t buf[3];
 277              		.loc 1 66 2 is_stmt 1 view .LVU63
 278              	.LVL27:
  69:Core/Src/rtc.c **** 	{
 279              		.loc 1 69 2 view .LVU64
  69:Core/Src/rtc.c **** 	{
 280              		.loc 1 69 13 is_stmt 0 view .LVU65
 281 0008 0024     		movs	r4, #0
  69:Core/Src/rtc.c **** 	{
 282              		.loc 1 69 2 view .LVU66
 283 000a 05E0     		b	.L17
 284              	.LVL28:
 285              	.L18:
  72:Core/Src/rtc.c **** 	}
 286              		.loc 1 72 3 is_stmt 1 discriminator 3 view .LVU67
  72:Core/Src/rtc.c **** 	}
 287              		.loc 1 72 26 is_stmt 0 discriminator 3 view .LVU68
 288 000c 305D     		ldrb	r0, [r6, r4]	@ zero_extendqisi2
 289 000e FFF7FEFF 		bl	RTC_ConvertToBinDec
 290              	.LVL29:
  72:Core/Src/rtc.c **** 	}
 291              		.loc 1 72 24 discriminator 3 view .LVU69
 292 0012 3055     		strb	r0, [r6, r4]
  69:Core/Src/rtc.c **** 	{
 293              		.loc 1 69 35 is_stmt 1 discriminator 3 view .LVU70
  69:Core/Src/rtc.c **** 	{
 294              		.loc 1 69 40 is_stmt 0 discriminator 3 view .LVU71
 295 0014 0134     		adds	r4, r4, #1
 296              	.LVL30:
  69:Core/Src/rtc.c **** 	{
 297              		.loc 1 69 40 discriminator 3 view .LVU72
 298 0016 E4B2     		uxtb	r4, r4
 299              	.LVL31:
 300              	.L17:
  69:Core/Src/rtc.c **** 	{
 301              		.loc 1 69 18 is_stmt 1 discriminator 1 view .LVU73
  69:Core/Src/rtc.c **** 	{
 302              		.loc 1 69 2 is_stmt 0 discriminator 1 view .LVU74
 303 0018 AC42     		cmp	r4, r5
 304 001a F7D3     		bcc	.L18
  81:Core/Src/rtc.c **** 	{	
ARM GAS  /tmp/cc4TCPVq.s 			page 9


 305              		.loc 1 81 13 view .LVU75
 306 001c 0024     		movs	r4, #0
 307              	.LVL32:
  81:Core/Src/rtc.c **** 	{	
 308              		.loc 1 81 13 view .LVU76
 309 001e 06E0     		b	.L19
 310              	.LVL33:
 311              	.L20:
  84:Core/Src/rtc.c **** 	}	
 312              		.loc 1 84 3 is_stmt 1 discriminator 3 view .LVU77
 313 0020 2A46     		mov	r2, r5
 314 0022 3146     		mov	r1, r6
 315 0024 3846     		mov	r0, r7
 316 0026 FFF7FEFF 		bl	I2C_WriteBuffer
 317              	.LVL34:
  81:Core/Src/rtc.c **** 	{	
 318              		.loc 1 81 35 discriminator 3 view .LVU78
  81:Core/Src/rtc.c **** 	{	
 319              		.loc 1 81 40 is_stmt 0 discriminator 3 view .LVU79
 320 002a 0134     		adds	r4, r4, #1
 321              	.LVL35:
  81:Core/Src/rtc.c **** 	{	
 322              		.loc 1 81 40 discriminator 3 view .LVU80
 323 002c E4B2     		uxtb	r4, r4
 324              	.LVL36:
 325              	.L19:
  81:Core/Src/rtc.c **** 	{	
 326              		.loc 1 81 18 is_stmt 1 discriminator 1 view .LVU81
  81:Core/Src/rtc.c **** 	{	
 327              		.loc 1 81 2 is_stmt 0 discriminator 1 view .LVU82
 328 002e AC42     		cmp	r4, r5
 329 0030 F6D3     		bcc	.L20
  87:Core/Src/rtc.c **** }
 330              		.loc 1 87 2 is_stmt 1 view .LVU83
  88:Core/Src/rtc.c **** 
 331              		.loc 1 88 1 is_stmt 0 view .LVU84
 332 0032 0020     		movs	r0, #0
 333 0034 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
  88:Core/Src/rtc.c **** 
 334              		.loc 1 88 1 view .LVU85
 335              		.cfi_endproc
 336              	.LFE819:
 338              		.section	.text.edit_RTC_data,"ax",%progbits
 339              		.align	1
 340              		.global	edit_RTC_data
 341              		.syntax unified
 342              		.thumb
 343              		.thumb_func
 345              	edit_RTC_data:
 346              	.LVL37:
 347              	.LFB822:
 103:Core/Src/rtc.c **** 
 104:Core/Src/rtc.c **** 
 105:Core/Src/rtc.c **** //------------------------------------------------------------------------------------------------/
 106:Core/Src/rtc.c **** void edit_RTC_data (uint8_t adress,  char * time)
 107:Core/Src/rtc.c **** {	
 348              		.loc 1 107 1 is_stmt 1 view -0
ARM GAS  /tmp/cc4TCPVq.s 			page 10


 349              		.cfi_startproc
 350              		@ args = 0, pretend = 0, frame = 0
 351              		@ frame_needed = 0, uses_anonymous_args = 0
 352              		@ link register save eliminated.
 108:Core/Src/rtc.c **** 
 109:Core/Src/rtc.c **** }
 353              		.loc 1 109 1 view .LVU87
 354 0000 7047     		bx	lr
 355              		.cfi_endproc
 356              	.LFE822:
 358              		.section	.text.get_file_title,"ax",%progbits
 359              		.align	1
 360              		.global	get_file_title
 361              		.syntax unified
 362              		.thumb
 363              		.thumb_func
 365              	get_file_title:
 366              	.LFB823:
 110:Core/Src/rtc.c **** 
 111:Core/Src/rtc.c **** //------------------------------------------------------------------------------------------------/
 112:Core/Src/rtc.c **** uint8_t get_file_title (void)
 113:Core/Src/rtc.c **** {
 367              		.loc 1 113 1 view -0
 368              		.cfi_startproc
 369              		@ args = 0, pretend = 0, frame = 8
 370              		@ frame_needed = 0, uses_anonymous_args = 0
 371 0000 00B5     		push	{lr}
 372              	.LCFI3:
 373              		.cfi_def_cfa_offset 4
 374              		.cfi_offset 14, -4
 375 0002 83B0     		sub	sp, sp, #12
 376              	.LCFI4:
 377              		.cfi_def_cfa_offset 16
 114:Core/Src/rtc.c **** 	uint8_t Date [3]; 
 378              		.loc 1 114 2 view .LVU89
 115:Core/Src/rtc.c **** 	uint8_t file_title = 0;
 379              		.loc 1 115 2 view .LVU90
 380              	.LVL38:
 116:Core/Src/rtc.c **** 	
 117:Core/Src/rtc.c **** 	GetTime (RTC_ADDRESS,  FIRST_REGISTR_DATE, 3, Date); //—á—Ç–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ 0—Ö4-0—Ö6 (
 381              		.loc 1 117 2 view .LVU91
 382 0004 01AB     		add	r3, sp, #4
 383 0006 0322     		movs	r2, #3
 384 0008 0421     		movs	r1, #4
 385 000a D020     		movs	r0, #208
 386 000c FFF7FEFF 		bl	GetTime
 387              	.LVL39:
 118:Core/Src/rtc.c **** 	file_title = ((pred_sum [0][*(Date+1)-1] )+ *Date); //–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–µ –≤–∏—Å–æ–∫–æ—Å–Ω–æ
 388              		.loc 1 118 2 view .LVU92
 389              		.loc 1 118 30 is_stmt 0 view .LVU93
 390 0010 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 391              		.loc 1 118 39 view .LVU94
 392 0014 013B     		subs	r3, r3, #1
 393              		.loc 1 118 44 view .LVU95
 394 0016 054A     		ldr	r2, .L25
 395 0018 12F82300 		ldrb	r0, [r2, r3, lsl #2]	@ zero_extendqisi2
 396              		.loc 1 118 46 view .LVU96
ARM GAS  /tmp/cc4TCPVq.s 			page 11


 397 001c 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 398              		.loc 1 118 13 view .LVU97
 399 0020 1844     		add	r0, r0, r3
 400              	.LVL40:
 119:Core/Src/rtc.c **** 	
 120:Core/Src/rtc.c **** 	return file_title;
 401              		.loc 1 120 2 is_stmt 1 view .LVU98
 121:Core/Src/rtc.c **** }
 402              		.loc 1 121 1 is_stmt 0 view .LVU99
 403 0022 C0B2     		uxtb	r0, r0
 404              		.loc 1 121 1 view .LVU100
 405 0024 03B0     		add	sp, sp, #12
 406              	.LCFI5:
 407              		.cfi_def_cfa_offset 4
 408              		@ sp needed
 409 0026 5DF804FB 		ldr	pc, [sp], #4
 410              	.L26:
 411 002a 00BF     		.align	2
 412              	.L25:
 413 002c 00000000 		.word	.LANCHOR0
 414              		.cfi_endproc
 415              	.LFE823:
 417              		.section	.text.convert_time,"ax",%progbits
 418              		.align	1
 419              		.global	convert_time
 420              		.syntax unified
 421              		.thumb
 422              		.thumb_func
 424              	convert_time:
 425              	.LVL41:
 426              	.LFB824:
 122:Core/Src/rtc.c **** 
 123:Core/Src/rtc.c **** //-------------------------–ø–µ—Ä–µ–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ —á–∏—Å–ª–æ–≤–æ–π –≤ —Å–∏
 124:Core/Src/rtc.c **** void convert_time (char * mod_time_data, uint8_t * time_data, uint8_t time_size)
 125:Core/Src/rtc.c **** {
 427              		.loc 1 125 1 is_stmt 1 view -0
 428              		.cfi_startproc
 429              		@ args = 0, pretend = 0, frame = 0
 430              		@ frame_needed = 0, uses_anonymous_args = 0
 126:Core/Src/rtc.c **** 		
 127:Core/Src/rtc.c **** 	for (int8_t count = (time_size-1); count >= 0; count--)
 431              		.loc 1 127 2 view .LVU102
 432              	.LBB6:
 433              		.loc 1 127 7 view .LVU103
 434              		.loc 1 127 32 is_stmt 0 view .LVU104
 435 0000 02F1FF3C 		add	ip, r2, #-1
 436              		.loc 1 127 14 view .LVU105
 437 0004 4FFA8CFC 		sxtb	ip, ip
 438              	.LVL42:
 439              		.loc 1 127 37 is_stmt 1 view .LVU106
 440              		.loc 1 127 2 is_stmt 0 view .LVU107
 441 0008 BCF1000F 		cmp	ip, #0
 442 000c 1EDB     		blt	.L33
 443              	.LBE6:
 125:Core/Src/rtc.c **** 		
 444              		.loc 1 125 1 view .LVU108
 445 000e 10B5     		push	{r4, lr}
ARM GAS  /tmp/cc4TCPVq.s 			page 12


 446              	.LCFI6:
 447              		.cfi_def_cfa_offset 8
 448              		.cfi_offset 4, -8
 449              		.cfi_offset 14, -4
 450              	.LVL43:
 451              	.L29:
 452              	.LBB7:
 128:Core/Src/rtc.c **** 	{
 129:Core/Src/rtc.c **** 		*mod_time_data++ = (*(time_data + count) / 10) + 0x30; //—á–∞—Å—ã/–º–∏–Ω—É—Ç—ã/—Å–µ–∫—É–Ω–¥—ã
 453              		.loc 1 129 3 is_stmt 1 discriminator 3 view .LVU109
 454              		.loc 1 129 23 is_stmt 0 discriminator 3 view .LVU110
 455 0010 11F80C20 		ldrb	r2, [r1, ip]	@ zero_extendqisi2
 456              	.LVL44:
 457              		.loc 1 129 50 discriminator 3 view .LVU111
 458 0014 0E4B     		ldr	r3, .L34
 459 0016 A3FB02E2 		umull	lr, r2, r3, r2
 460 001a D208     		lsrs	r2, r2, #3
 461 001c 3032     		adds	r2, r2, #48
 462              		.loc 1 129 20 discriminator 3 view .LVU112
 463 001e 8646     		mov	lr, r0
 464 0020 0EF8022B 		strb	r2, [lr], #2
 130:Core/Src/rtc.c **** 		*mod_time_data++ = (*(time_data + count) % 10) + 0x30;
 465              		.loc 1 130 3 is_stmt 1 discriminator 3 view .LVU113
 466              		.loc 1 130 23 is_stmt 0 discriminator 3 view .LVU114
 467 0024 11F80C20 		ldrb	r2, [r1, ip]	@ zero_extendqisi2
 468              	.LVL45:
 469              		.loc 1 130 50 discriminator 3 view .LVU115
 470 0028 A3FB0243 		umull	r4, r3, r3, r2
 471 002c DB08     		lsrs	r3, r3, #3
 472 002e 03EB8303 		add	r3, r3, r3, lsl #2
 473 0032 A2EB4303 		sub	r3, r2, r3, lsl #1
 474 0036 3033     		adds	r3, r3, #48
 475              		.loc 1 130 20 discriminator 3 view .LVU116
 476 0038 4370     		strb	r3, [r0, #1]
 127:Core/Src/rtc.c **** 	{
 477              		.loc 1 127 49 is_stmt 1 discriminator 3 view .LVU117
 127:Core/Src/rtc.c **** 	{
 478              		.loc 1 127 54 is_stmt 0 discriminator 3 view .LVU118
 479 003a 0CF1FF3C 		add	ip, ip, #-1
 480              	.LVL46:
 127:Core/Src/rtc.c **** 	{
 481              		.loc 1 127 54 discriminator 3 view .LVU119
 482 003e 4FFA8CFC 		sxtb	ip, ip
 483              	.LVL47:
 484              		.loc 1 130 17 discriminator 3 view .LVU120
 485 0042 7046     		mov	r0, lr
 127:Core/Src/rtc.c **** 	{
 486              		.loc 1 127 37 is_stmt 1 discriminator 3 view .LVU121
 127:Core/Src/rtc.c **** 	{
 487              		.loc 1 127 2 is_stmt 0 discriminator 3 view .LVU122
 488 0044 BCF1000F 		cmp	ip, #0
 489 0048 E2DA     		bge	.L29
 490              	.LBE7:
 131:Core/Src/rtc.c **** 	}
 132:Core/Src/rtc.c **** }
 491              		.loc 1 132 1 view .LVU123
 492 004a 10BD     		pop	{r4, pc}
ARM GAS  /tmp/cc4TCPVq.s 			page 13


 493              	.LVL48:
 494              	.L33:
 495              	.LCFI7:
 496              		.cfi_def_cfa_offset 0
 497              		.cfi_restore 4
 498              		.cfi_restore 14
 499              		.loc 1 132 1 view .LVU124
 500 004c 7047     		bx	lr
 501              	.L35:
 502 004e 00BF     		.align	2
 503              	.L34:
 504 0050 CDCCCCCC 		.word	-858993459
 505              		.cfi_endproc
 506              	.LFE824:
 508              		.section	.text.CalcUNIXtime_from_DS3231,"ax",%progbits
 509              		.align	1
 510              		.global	CalcUNIXtime_from_DS3231
 511              		.syntax unified
 512              		.thumb
 513              		.thumb_func
 515              	CalcUNIXtime_from_DS3231:
 516              	.LVL49:
 517              	.LFB825:
 133:Core/Src/rtc.c **** 
 134:Core/Src/rtc.c **** //-----------------------------------------------------------------------------------------------//
 135:Core/Src/rtc.c **** void CalcUNIXtime_from_DS3231 (uint32_t * UNIX_time, uint8_t * time_data)
 136:Core/Src/rtc.c **** {
 518              		.loc 1 136 1 is_stmt 1 view -0
 519              		.cfi_startproc
 520              		@ args = 0, pretend = 0, frame = 0
 521              		@ frame_needed = 0, uses_anonymous_args = 0
 522              		.loc 1 136 1 is_stmt 0 view .LVU126
 523 0000 10B5     		push	{r4, lr}
 524              	.LCFI8:
 525              		.cfi_def_cfa_offset 8
 526              		.cfi_offset 4, -8
 527              		.cfi_offset 14, -4
 528 0002 0446     		mov	r4, r0
 137:Core/Src/rtc.c **** 	TimeStamp.tm_sec = *time_data;
 529              		.loc 1 137 2 is_stmt 1 view .LVU127
 530              		.loc 1 137 21 is_stmt 0 view .LVU128
 531 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 532              		.loc 1 137 19 view .LVU129
 533 0006 0948     		ldr	r0, .L38
 534              	.LVL50:
 535              		.loc 1 137 19 view .LVU130
 536 0008 0360     		str	r3, [r0]
 138:Core/Src/rtc.c **** 	TimeStamp.tm_min = *(time_data+1);
 537              		.loc 1 138 2 is_stmt 1 view .LVU131
 538              		.loc 1 138 21 is_stmt 0 view .LVU132
 539 000a 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 540              		.loc 1 138 19 view .LVU133
 541 000c 4360     		str	r3, [r0, #4]
 139:Core/Src/rtc.c **** 	TimeStamp.tm_hour = *(time_data+2);
 542              		.loc 1 139 2 is_stmt 1 view .LVU134
 543              		.loc 1 139 22 is_stmt 0 view .LVU135
 544 000e 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
ARM GAS  /tmp/cc4TCPVq.s 			page 14


 545              		.loc 1 139 20 view .LVU136
 546 0010 8360     		str	r3, [r0, #8]
 140:Core/Src/rtc.c **** 	TimeStamp.tm_mday = *(time_data+3)-1;
 547              		.loc 1 140 2 is_stmt 1 view .LVU137
 548              		.loc 1 140 22 is_stmt 0 view .LVU138
 549 0012 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 550              		.loc 1 140 36 view .LVU139
 551 0014 013B     		subs	r3, r3, #1
 552              		.loc 1 140 20 view .LVU140
 553 0016 C360     		str	r3, [r0, #12]
 141:Core/Src/rtc.c **** 	TimeStamp.tm_mon = *(time_data+4);			
 554              		.loc 1 141 2 is_stmt 1 view .LVU141
 555              		.loc 1 141 21 is_stmt 0 view .LVU142
 556 0018 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 557              		.loc 1 141 19 view .LVU143
 558 001a 0361     		str	r3, [r0, #16]
 142:Core/Src/rtc.c **** 	TimeStamp.tm_year = *(time_data+5) + (2000 - 1900);
 559              		.loc 1 142 2 is_stmt 1 view .LVU144
 560              		.loc 1 142 22 is_stmt 0 view .LVU145
 561 001c 4B79     		ldrb	r3, [r1, #5]	@ zero_extendqisi2
 562              		.loc 1 142 37 view .LVU146
 563 001e 6433     		adds	r3, r3, #100
 564              		.loc 1 142 20 view .LVU147
 565 0020 4361     		str	r3, [r0, #20]
 143:Core/Src/rtc.c **** 	*UNIX_time =  (uint32_t	) mktime64(&TimeStamp); //–ø–µ—Ä–µ–≤–æ–¥ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –¥–∞—Ç—ã –≤ 
 566              		.loc 1 143 2 is_stmt 1 view .LVU148
 567              		.loc 1 143 28 is_stmt 0 view .LVU149
 568 0022 FFF7FEFF 		bl	mktime64
 569              	.LVL51:
 570              		.loc 1 143 13 view .LVU150
 571 0026 2060     		str	r0, [r4]
 144:Core/Src/rtc.c **** 	#ifdef __USE_DBG
 145:Core/Src/rtc.c **** 		//snprintf (DBG_buffer,  BUFFER_SIZE, "daytoTimeStamp=%u, mon=%u\r\n", TimeStamp.tm_mday, TimeSta
 146:Core/Src/rtc.c ****         //DBG_PutString(DBG_buffer);
 147:Core/Src/rtc.c **** 	#endif
 148:Core/Src/rtc.c **** }
 572              		.loc 1 148 1 view .LVU151
 573 0028 10BD     		pop	{r4, pc}
 574              	.LVL52:
 575              	.L39:
 576              		.loc 1 148 1 view .LVU152
 577 002a 00BF     		.align	2
 578              	.L38:
 579 002c 00000000 		.word	.LANCHOR1
 580              		.cfi_endproc
 581              	.LFE825:
 583              		.section	.text.CalcTimeStamp_from_UART,"ax",%progbits
 584              		.align	1
 585              		.global	CalcTimeStamp_from_UART
 586              		.syntax unified
 587              		.thumb
 588              		.thumb_func
 590              	CalcTimeStamp_from_UART:
 591              	.LVL53:
 592              	.LFB826:
 149:Core/Src/rtc.c **** 
 150:Core/Src/rtc.c **** //-----------------------------------------------------------------------------------------------//
ARM GAS  /tmp/cc4TCPVq.s 			page 15


 151:Core/Src/rtc.c **** void CalcTimeStamp_from_UART (uint32_t UNIX_time)
 152:Core/Src/rtc.c **** {
 593              		.loc 1 152 1 is_stmt 1 view -0
 594              		.cfi_startproc
 595              		@ args = 0, pretend = 0, frame = 8
 596              		@ frame_needed = 0, uses_anonymous_args = 0
 597              		.loc 1 152 1 is_stmt 0 view .LVU154
 598 0000 10B5     		push	{r4, lr}
 599              	.LCFI9:
 600              		.cfi_def_cfa_offset 8
 601              		.cfi_offset 4, -8
 602              		.cfi_offset 14, -4
 603 0002 82B0     		sub	sp, sp, #8
 604              	.LCFI10:
 605              		.cfi_def_cfa_offset 16
 153:Core/Src/rtc.c **** 	int64_t buf = (uint64_t)UNIX_time;
 606              		.loc 1 153 2 is_stmt 1 view .LVU155
 607              		.loc 1 153 10 is_stmt 0 view .LVU156
 608 0004 0090     		str	r0, [sp]
 609 0006 0023     		movs	r3, #0
 610 0008 0193     		str	r3, [sp, #4]
 154:Core/Src/rtc.c **** 	TimeStamp = *gmtime64_r (&buf, &TimeStamp);
 611              		.loc 1 154 2 is_stmt 1 view .LVU157
 612              		.loc 1 154 15 is_stmt 0 view .LVU158
 613 000a 094C     		ldr	r4, .L42
 614 000c 2146     		mov	r1, r4
 615 000e 6846     		mov	r0, sp
 616              	.LVL54:
 617              		.loc 1 154 15 view .LVU159
 618 0010 FFF7FEFF 		bl	gmtime64_r
 619              	.LVL55:
 620              		.loc 1 154 12 view .LVU160
 621 0014 A446     		mov	ip, r4
 622 0016 0446     		mov	r4, r0
 623 0018 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 624 001a ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 625 001e 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 626 0020 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 627 0024 2368     		ldr	r3, [r4]
 628 0026 CCF80030 		str	r3, [ip]
 155:Core/Src/rtc.c **** 
 156:Core/Src/rtc.c **** }
 629              		.loc 1 156 1 view .LVU161
 630 002a 02B0     		add	sp, sp, #8
 631              	.LCFI11:
 632              		.cfi_def_cfa_offset 8
 633              		@ sp needed
 634 002c 10BD     		pop	{r4, pc}
 635              	.L43:
 636 002e 00BF     		.align	2
 637              	.L42:
 638 0030 00000000 		.word	.LANCHOR1
 639              		.cfi_endproc
 640              	.LFE826:
 642              		.section	.text.copy_TMdata,"ax",%progbits
 643              		.align	1
 644              		.global	copy_TMdata
ARM GAS  /tmp/cc4TCPVq.s 			page 16


 645              		.syntax unified
 646              		.thumb
 647              		.thumb_func
 649              	copy_TMdata:
 650              	.LVL56:
 651              	.LFB827:
 157:Core/Src/rtc.c **** 
 158:Core/Src/rtc.c **** //-----------------------------------------------------------------------------------------------//
 159:Core/Src/rtc.c **** void copy_TMdata(uint8_t *RTC_buffer)
 160:Core/Src/rtc.c **** {
 652              		.loc 1 160 1 is_stmt 1 view -0
 653              		.cfi_startproc
 654              		@ args = 0, pretend = 0, frame = 0
 655              		@ frame_needed = 0, uses_anonymous_args = 0
 656              		@ link register save eliminated.
 161:Core/Src/rtc.c **** 	*RTC_buffer 		=  TimeStamp.tm_sec;
 657              		.loc 1 161 2 view .LVU163
 658              		.loc 1 161 28 is_stmt 0 view .LVU164
 659 0000 074B     		ldr	r3, .L45
 660 0002 1A68     		ldr	r2, [r3]
 661              		.loc 1 161 16 view .LVU165
 662 0004 0270     		strb	r2, [r0]
 162:Core/Src/rtc.c **** 	*(RTC_buffer+1) 	=  TimeStamp.tm_min;
 663              		.loc 1 162 2 is_stmt 1 view .LVU166
 664              		.loc 1 162 31 is_stmt 0 view .LVU167
 665 0006 5A68     		ldr	r2, [r3, #4]
 666              		.loc 1 162 19 view .LVU168
 667 0008 4270     		strb	r2, [r0, #1]
 163:Core/Src/rtc.c **** 	*(RTC_buffer+2) 	=  TimeStamp.tm_hour;
 668              		.loc 1 163 2 is_stmt 1 view .LVU169
 669              		.loc 1 163 31 is_stmt 0 view .LVU170
 670 000a 9A68     		ldr	r2, [r3, #8]
 671              		.loc 1 163 19 view .LVU171
 672 000c 8270     		strb	r2, [r0, #2]
 164:Core/Src/rtc.c **** 	*(RTC_buffer+3) 	=  (TimeStamp.tm_mday);
 673              		.loc 1 164 2 is_stmt 1 view .LVU172
 674              		.loc 1 164 32 is_stmt 0 view .LVU173
 675 000e DA68     		ldr	r2, [r3, #12]
 676              		.loc 1 164 19 view .LVU174
 677 0010 C270     		strb	r2, [r0, #3]
 165:Core/Src/rtc.c **** 	*(RTC_buffer+4) 	=  (TimeStamp.tm_mon) + 1; //–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ TimeStamp –º–µ—Å—è—Ü–∞ –æ—Ç 0 
 678              		.loc 1 165 2 is_stmt 1 view .LVU175
 679              		.loc 1 165 32 is_stmt 0 view .LVU176
 680 0012 1A69     		ldr	r2, [r3, #16]
 681              		.loc 1 165 41 view .LVU177
 682 0014 0132     		adds	r2, r2, #1
 683              		.loc 1 165 19 view .LVU178
 684 0016 0271     		strb	r2, [r0, #4]
 166:Core/Src/rtc.c **** 	*(RTC_buffer+5) 	=  TimeStamp.tm_year - (2000 - 1900);
 685              		.loc 1 166 2 is_stmt 1 view .LVU179
 686              		.loc 1 166 31 is_stmt 0 view .LVU180
 687 0018 5B69     		ldr	r3, [r3, #20]
 688              		.loc 1 166 40 view .LVU181
 689 001a 643B     		subs	r3, r3, #100
 690              		.loc 1 166 19 view .LVU182
 691 001c 4371     		strb	r3, [r0, #5]
 167:Core/Src/rtc.c **** 
ARM GAS  /tmp/cc4TCPVq.s 			page 17


 168:Core/Src/rtc.c **** 	#ifdef __USE_DBG
 169:Core/Src/rtc.c **** 		//snprintf (DBG_buffer,  BUFFER_SIZE, "daytoDS3231=%u, mon=%u\r\n",*(RTC_buffer+3), *(RTC_buffer+
 170:Core/Src/rtc.c ****        // DBG_PutString(DBG_buffer);
 171:Core/Src/rtc.c **** 	#endif
 172:Core/Src/rtc.c **** }
 692              		.loc 1 172 1 view .LVU183
 693 001e 7047     		bx	lr
 694              	.L46:
 695              		.align	2
 696              	.L45:
 697 0020 00000000 		.word	.LANCHOR1
 698              		.cfi_endproc
 699              	.LFE827:
 701              		.global	pred_sum
 702              		.global	TimeStamp
 703              		.global	RTC_I2C
 704              		.section	.bss.TimeStamp,"aw",%nobits
 705              		.align	2
 706              		.set	.LANCHOR1,. + 0
 709              	TimeStamp:
 710 0000 00000000 		.space	36
 710      00000000 
 710      00000000 
 710      00000000 
 710      00000000 
 711              		.section	.data.RTC_I2C,"aw"
 712              		.align	2
 715              	RTC_I2C:
 716 0000 00540040 		.word	1073763328
 717              		.section	.rodata.pred_sum,"a"
 718              		.align	2
 719              		.set	.LANCHOR0,. + 0
 722              	pred_sum:
 723 0000 00000000 		.word	0
 724 0004 1F000000 		.word	31
 725 0008 3B000000 		.word	59
 726 000c 5A000000 		.word	90
 727 0010 78000000 		.word	120
 728 0014 97000000 		.word	151
 729 0018 B5000000 		.word	181
 730 001c D4000000 		.word	212
 731 0020 F3000000 		.word	243
 732 0024 11010000 		.word	273
 733 0028 30010000 		.word	304
 734 002c 4E010000 		.word	334
 735 0030 00000000 		.word	0
 736 0034 1F000000 		.word	31
 737 0038 3C000000 		.word	60
 738 003c 5B000000 		.word	91
 739 0040 79000000 		.word	121
 740 0044 98000000 		.word	152
 741 0048 B6000000 		.word	182
 742 004c D5000000 		.word	213
 743 0050 F4000000 		.word	244
 744 0054 12010000 		.word	274
 745 0058 31010000 		.word	305
 746 005c 4F010000 		.word	335
ARM GAS  /tmp/cc4TCPVq.s 			page 18


 747              		.text
 748              	.Letext0:
 749              		.file 2 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/m
 750              		.file 3 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/s
 751              		.file 4 "Drivers/CMSIS/Device/ST/STM32L1xx/Include/stm32l151xb.h"
 752              		.file 5 "Drivers/STM32L1xx_HAL_Driver/Inc/stm32l1xx_ll_dma.h"
 753              		.file 6 "Drivers/STM32L1xx_HAL_Driver/Inc/stm32l1xx_ll_tim.h"
 754              		.file 7 "/home/arashamf/soft/ARM_toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/t
 755              		.file 8 "timer64/time64.h"
 756              		.file 9 "Core/Inc/i2c.h"
 757              		.file 10 "Core/Inc/typedef.h"
ARM GAS  /tmp/cc4TCPVq.s 			page 19


DEFINED SYMBOLS
                            *ABS*:0000000000000000 rtc.c
     /tmp/cc4TCPVq.s:18     .text.RTC_ConvertToDec:0000000000000000 $t
     /tmp/cc4TCPVq.s:23     .text.RTC_ConvertToDec:0000000000000000 RTC_ConvertToDec
     /tmp/cc4TCPVq.s:51     .text.RTC_ConvertToBinDec:0000000000000000 $t
     /tmp/cc4TCPVq.s:56     .text.RTC_ConvertToBinDec:0000000000000000 RTC_ConvertToBinDec
     /tmp/cc4TCPVq.s:88     .text.RTC_ConvertToBinDec:000000000000001c $d
     /tmp/cc4TCPVq.s:93     .text.GetTime:0000000000000000 $t
     /tmp/cc4TCPVq.s:99     .text.GetTime:0000000000000000 GetTime
     /tmp/cc4TCPVq.s:204    .text.GetTemp:0000000000000000 $t
     /tmp/cc4TCPVq.s:210    .text.GetTemp:0000000000000000 GetTemp
     /tmp/cc4TCPVq.s:251    .text.SetTime:0000000000000000 $t
     /tmp/cc4TCPVq.s:257    .text.SetTime:0000000000000000 SetTime
     /tmp/cc4TCPVq.s:339    .text.edit_RTC_data:0000000000000000 $t
     /tmp/cc4TCPVq.s:345    .text.edit_RTC_data:0000000000000000 edit_RTC_data
     /tmp/cc4TCPVq.s:359    .text.get_file_title:0000000000000000 $t
     /tmp/cc4TCPVq.s:365    .text.get_file_title:0000000000000000 get_file_title
     /tmp/cc4TCPVq.s:413    .text.get_file_title:000000000000002c $d
     /tmp/cc4TCPVq.s:418    .text.convert_time:0000000000000000 $t
     /tmp/cc4TCPVq.s:424    .text.convert_time:0000000000000000 convert_time
     /tmp/cc4TCPVq.s:504    .text.convert_time:0000000000000050 $d
     /tmp/cc4TCPVq.s:509    .text.CalcUNIXtime_from_DS3231:0000000000000000 $t
     /tmp/cc4TCPVq.s:515    .text.CalcUNIXtime_from_DS3231:0000000000000000 CalcUNIXtime_from_DS3231
     /tmp/cc4TCPVq.s:579    .text.CalcUNIXtime_from_DS3231:000000000000002c $d
     /tmp/cc4TCPVq.s:584    .text.CalcTimeStamp_from_UART:0000000000000000 $t
     /tmp/cc4TCPVq.s:590    .text.CalcTimeStamp_from_UART:0000000000000000 CalcTimeStamp_from_UART
     /tmp/cc4TCPVq.s:638    .text.CalcTimeStamp_from_UART:0000000000000030 $d
     /tmp/cc4TCPVq.s:643    .text.copy_TMdata:0000000000000000 $t
     /tmp/cc4TCPVq.s:649    .text.copy_TMdata:0000000000000000 copy_TMdata
     /tmp/cc4TCPVq.s:697    .text.copy_TMdata:0000000000000020 $d
     /tmp/cc4TCPVq.s:722    .rodata.pred_sum:0000000000000000 pred_sum
     /tmp/cc4TCPVq.s:709    .bss.TimeStamp:0000000000000000 TimeStamp
     /tmp/cc4TCPVq.s:715    .data.RTC_I2C:0000000000000000 RTC_I2C
     /tmp/cc4TCPVq.s:705    .bss.TimeStamp:0000000000000000 $d
     /tmp/cc4TCPVq.s:712    .data.RTC_I2C:0000000000000000 $d
     /tmp/cc4TCPVq.s:718    .rodata.pred_sum:0000000000000000 $d

UNDEFINED SYMBOLS
I2C_ReadBuffer
I2C_ReadByte
I2C_WriteBuffer
mktime64
gmtime64_r
